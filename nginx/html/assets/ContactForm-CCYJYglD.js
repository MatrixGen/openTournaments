import{aw as l,j as e,r as b}from"./index-Dd7dhgAO.js";const v={async getSupportData(){try{const r=await l.get("/support/data");if(r.data.success)return r.data.data;throw new Error(r.data.message||"Failed to fetch support data")}catch(r){throw console.error("Error fetching support data:",r),r}},async getFAQsByCategory(r,s=null){try{const t={category:r};s&&(t.subcategory=s);const a=await l.get("/support/faqs",{params:t});if(a.data.success)return a.data.data.faqs;throw new Error(a.data.message||"Failed to fetch FAQs")}catch(t){throw console.error("Error fetching FAQs:",t),t}},async submitSupportTicket(r){try{const s=await l.post("/support/tickets",r);if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to submit support ticket")}catch(s){throw console.error("Error submitting support ticket:",s),s}},async searchFAQs(r,s=null){try{const t={query:r};s&&(t.category=s);const a=await l.get("/support/faqs/search",{params:t});if(a.data.success)return a.data.data;throw new Error(a.data.message||"Search failed")}catch(t){throw console.error("Error searching FAQs:",t),t}},async getTicketStatus(r){try{const s=await l.get(`/support/tickets/${r}/status`);if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to fetch ticket status")}catch(s){throw console.error("Error fetching ticket status:",s),s}},async getUserTickets(r,s=null,t=10,a=0){try{const i={userId:r,limit:t,offset:a};s&&(i.status=s);const o=await l.get("/support/tickets/user",{params:i});if(o.data.success)return o.data.data;throw new Error(o.data.message||"Failed to fetch user tickets")}catch(i){throw console.error("Error fetching user tickets:",i),i}},async rateFAQ(r,s){try{const t=await l.post("/support/faqs/rate",{faqId:r,helpful:s,userId:"user_123"});if(t.data.success)return t.data.data;throw new Error(t.data.message||"Failed to submit feedback")}catch(t){throw console.error("Error rating FAQ:",t),t}},async getChannelAvailability(r){try{const s=await l.get(`/support/channels/${r}/availability`);if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to check channel availability")}catch(s){throw console.error("Error checking channel availability:",s),s}},async getPopularFAQs(r=10){try{const s=await l.get("/support/faqs/popular",{params:{limit:r}});if(s.data.success)return s.data.data.faqs;throw new Error(s.data.message||"Failed to fetch popular FAQs")}catch(s){throw console.error("Error fetching popular FAQs:",s),s}},async uploadAttachment(r,s=null){try{const t=new FormData;t.append("file",r),s&&t.append("ticketId",s);const a=await l.post("/support/attachments/upload",t,{headers:{"Content-Type":"multipart/form-data"}});if(a.data.success)return a.data.data;throw new Error(a.data.message||"Failed to upload attachment")}catch(t){throw console.error("Error uploading attachment:",t),t}},async initLiveChatSession(r){try{const s=await l.post("/support/live-chat/sessions",r);if(s.data.success)return s.data.data;throw new Error(s.data.message||"Failed to initialize chat session")}catch(s){throw console.error("Error initializing chat session:",s),s}}};function k({categories:r,activeCategory:s,onCategoryChange:t,searchQuery:a,onSearchChange:i,faqs:o,openQuestion:d,onToggleQuestion:p,isSearching:h}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Quick answers to common questions"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search FAQs...",value:a,onChange:n=>i(n.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-4 bg-neutral-900 border border-neutral-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-colors text-sm sm:text-base"})]}),e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsx("div",{className:"flex overflow-x-auto pb-2 -mx-4 sm:mx-0 sm:flex-wrap gap-2 px-4 sm:px-0",children:r.map(n=>e.jsx("button",{onClick:()=>t(n),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 capitalize border whitespace-nowrap flex-shrink-0 ${s===n?"bg-blue-500 border-blue-500 text-gray-900 dark:text-white shadow-lg shadow-blue-500/25":"bg-neutral-700 border-neutral-600 text-gray-300 hover:bg-neutral-600 hover:border-neutral-500"}`,children:n},n))})}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:h&&o.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-gray-400",children:['No FAQs found for "',a,'"']})}):o.map((n,m)=>e.jsxs("div",{className:"bg-neutral-900 border border-neutral-700 rounded-lg overflow-hidden hover:border-neutral-600 transition-colors",children:[e.jsxs("button",{onClick:()=>p(m),className:"w-full text-left p-4 sm:p-6 flex justify-between items-center hover:bg-neutral-800/50 transition-colors","aria-expanded":d===m,children:[e.jsx("span",{className:"text-gray-900 dark:text-white font-medium pr-4 sm:pr-6 text-sm sm:text-base md:text-lg leading-relaxed",children:n.question}),e.jsx("svg",{className:`flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 transform transition-transform ${d===m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d===m&&e.jsxs("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsx("div",{className:"w-8 sm:w-12 h-px bg-gradient-to-r from-blue-500 to-transparent mb-3 sm:mb-4"}),e.jsx("p",{className:"text-gray-300 leading-relaxed text-sm sm:text-base md:text-lg",children:n.answer})]})]},m))})]})}function N({onSubmit:r,initialCategory:s="general",showPriority:t=!0}){const[a,i]=b.useState({name:"",email:"",subject:"",category:s,priority:"medium",message:""}),[o,d]=b.useState({}),[p,h]=b.useState(!1),[n,m]=b.useState(!1),u=c=>{const{name:x,value:g}=c.target;i(f=>({...f,[x]:g})),o[x]&&d(f=>({...f,[x]:""}))},y=()=>{const c={};return a.name.trim()||(c.name="Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(c.email="Email is invalid"):c.email="Email is required",a.subject.trim()||(c.subject="Subject is required"),a.message.trim()||(c.message="Message is required"),c},w=async c=>{c.preventDefault();const x=y();if(Object.keys(x).length>0){d(x);return}h(!0);try{await r(a),m(!0),i({name:"",email:"",subject:"",category:s,priority:"medium",message:""}),d({}),setTimeout(()=>m(!1),5e3)}catch(g){d({submit:g.message||"Failed to submit ticket"})}finally{h(!1)}};return e.jsxs("div",{className:"bg-neutral-800/50 backdrop-blur-sm border border-neutral-700 rounded-xl p-4 sm:p-6 lg:sticky lg:top-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:"Contact Support"}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed",children:"Need personalized assistance? Our team typically responds within 2 hours during business hours."})]}),n&&e.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-400 font-medium text-sm sm:text-base",children:"Message sent successfully"}),e.jsx("p",{className:"text-green-400/80 text-xs sm:text-sm",children:"We'll get back to you shortly"})]})]})}),o.submit&&e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:e.jsx("p",{className:"text-red-400 text-sm",children:o.submit})}),e.jsxs("form",{onSubmit:w,className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:u,className:`w-full rounded-lg border bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors text-sm sm:text-base ${o.name?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-neutral-600 focus:border-blue-500 focus:ring-blue-500/20"}`,placeholder:"Your full name"}),o.name&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:o.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:u,className:`w-full rounded-lg border bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors text-sm sm:text-base ${o.email?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-neutral-600 focus:border-blue-500 focus:ring-blue-500/20"}`,placeholder:"your.email@example.com"}),o.email&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:o.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Category"}),e.jsxs("select",{id:"category",name:"category",value:a.category,onChange:u,className:"w-full rounded-lg border border-neutral-600 bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-colors text-sm sm:text-base",children:[e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"technical",children:"Technical Support"}),e.jsx("option",{value:"billing",children:"Billing & Payments"}),e.jsx("option",{value:"tournament",children:"Tournament Support"}),e.jsx("option",{value:"account",children:"Account Issues"}),e.jsx("option",{value:"feature",children:"Feature Request"})]})]}),t&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Priority"}),e.jsxs("select",{id:"priority",name:"priority",value:a.priority,onChange:u,className:"w-full rounded-lg border border-neutral-600 bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-colors text-sm sm:text-base",children:[e.jsx("option",{value:"low",children:"Low - General question"}),e.jsx("option",{value:"medium",children:"Medium - Feature not working"}),e.jsx("option",{value:"high",children:"High - Service disruption"}),e.jsx("option",{value:"critical",children:"Critical - Complete outage"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:a.subject,onChange:u,className:`w-full rounded-lg border bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors text-sm sm:text-base ${o.subject?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-neutral-600 focus:border-blue-500 focus:ring-blue-500/20"}`,placeholder:"Brief description of your issue"}),o.subject&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:o.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-xs sm:text-sm font-medium text-gray-300 mb-1 sm:mb-2",children:"Message *"}),e.jsx("textarea",{id:"message",name:"message",required:!0,rows:4,value:a.message,onChange:u,className:`w-full rounded-lg border bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-colors resize-none text-sm sm:text-base ${o.message?"border-red-500 focus:border-red-500 focus:ring-red-500/20":"border-neutral-600 focus:border-blue-500 focus:ring-blue-500/20"}`,placeholder:"Please provide detailed information about your issue..."}),o.message&&e.jsx("p",{className:"mt-1 text-xs text-red-400",children:o.message})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-gray-900 dark:text-white font-semibold py-3 sm:py-4 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 text-sm sm:text-base",children:p?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white"}),"Sending Message..."]}):"Send Message to Support"})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-neutral-700",children:[e.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-3 text-sm sm:text-base",children:"Support Information"}),e.jsxs("div",{className:"space-y-2 text-xs sm:text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Response time: < 2 hours (business hours)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:"support@opentournaments.com"})]})]})]})]})}export{N as C,k as F,v as s};
