import{r as a,t as E,j as e,av as L,L as R}from"./index-Dd7dhgAO.js";import{d as j}from"./dataService-CChVBLgp.js";import{F as _}from"./MagnifyingGlassIcon-BjefptpO.js";import{F as P}from"./CurrencyDollarIcon-DqON1HzM.js";import{F as T}from"./UserGroupIcon-M5IdVf0V.js";import{F as w}from"./TrophyIcon-E9_GOpX6.js";import{F as A}from"./ClockIcon-DpHVzJ4M.js";function D({title:r,titleId:m,...d},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":m},d),r?a.createElement("title",{id:m},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const B=a.forwardRef(D);function U(){const[r,m]=a.useState([]),[d,o]=a.useState([]),[y,v]=a.useState([]),[N,u]=a.useState(!0),[h,k]=a.useState(""),[t,g]=a.useState({game:"",platform:"",status:"upcoming",search:""}),[p,f]=a.useState(!1);a.useEffect(()=>{F()},[]),a.useEffect(()=>{b()},[t]);const F=async()=>{try{const[s,l]=await Promise.all([j.getGames(),j.getPlatforms()]);o(s),v(l)}catch(s){console.error("Failed to load initial data:",s)}},b=async()=>{try{u(!0);const s={status:t.status,game_id:t.game,platform_id:t.platform,search:t.search};Object.keys(s).forEach(n=>{(s[n]===""||s[n]===null)&&delete s[n]});const l=await E.getAll(s);m(l)}catch(s){k(s.response?.data?.message||"Failed to load tournaments")}finally{u(!1)}},i=(s,l)=>{g(n=>({...n,[s]:l}))},c=()=>{g({game:"",platform:"",status:"upcoming",search:""})},C=s=>{switch(s){case"upcoming":return"bg-blue-500/20 text-blue-300 border border-blue-500/30";case"ongoing":return"bg-green-500/20 text-green-300 border border-green-500/30";case"completed":return"bg-purple-500/20 text-purple-300 border border-purple-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border border-gray-500/30"}},S=s=>{switch(s){case"upcoming":return"â°";case"ongoing":return"ðŸ”´";case"completed":return"ðŸ†";case"cancelled":return"âŒ";default:return"âšª"}},$=()=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-lg p-4 sm:p-6 animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"h-6 bg-neutral-700 rounded w-3/4"}),e.jsx("div",{className:"h-6 bg-neutral-700 rounded w-16"})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-neutral-700 rounded-lg mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-4 bg-neutral-700 rounded w-24 mb-2"}),e.jsx("div",{className:"h-3 bg-neutral-700 rounded w-16"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"h-3 bg-neutral-700 rounded w-full"}),e.jsx("div",{className:"h-3 bg-neutral-700 rounded w-2/3"})]}),e.jsx("div",{className:"h-10 bg-neutral-700 rounded"})]}),x=Object.values(t).filter(s=>s!==""&&s!=="upcoming").length;return e.jsxs("div",{className:"min-h-screen bg-neutral-900",children:[e.jsxs("main",{className:"mx-auto max-w-7xl py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 mb-6 lg:mb-8",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h1",{className:"text-1xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Browse Tournaments"}),e.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-gray-400",children:"Find and join exciting gaming tournaments"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),e.jsx("input",{type:"text",value:t.search,onChange:s=>i("search",s.target.value),placeholder:"Search tournaments...",className:"w-full pl-10 pr-4 py-2 sm:py-2.5 bg-neutral-800 border border-neutral-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:border-primary-500 text-sm sm:text-base"})]}),e.jsxs("button",{onClick:()=>f(s=>!s),className:`flex items-center justify-center space-x-2 px-4 py-2 sm:py-2.5 rounded-lg transition-colors whitespace-nowrap ${p?"bg-primary-500 text-gray-900 dark:text-white":"bg-neutral-800 text-gray-300 hover:bg-neutral-700"}`,children:[e.jsx(B,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Filters"}),x>0&&e.jsx("span",{className:"bg-primary-500 text-gray-900 dark:text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:x})]})]})]}),p&&e.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-lg p-4 sm:p-6 mb-6 lg:mb-8 animate-slide-down",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Filter Tournaments"}),e.jsxs("div",{className:"flex space-x-3 self-end sm:self-auto",children:[e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-900 dark:text-white text-sm font-medium transition-colors",children:"Clear All"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-900 dark:text-white transition-colors",children:e.jsx(L,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2 sm:mb-3",children:"Status"}),e.jsxs("select",{value:t.status,onChange:s=>i("status",s.target.value),className:"w-full rounded-lg border border-neutral-700 bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 transition-colors text-sm sm:text-base",children:[e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Live Now"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2 sm:mb-3",children:"Game"}),e.jsxs("select",{value:t.game,onChange:s=>i("game",s.target.value),className:"w-full rounded-lg border border-neutral-700 bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 transition-colors text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Games"}),d.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-2 sm:mb-3",children:"Platform"}),e.jsxs("select",{value:t.platform,onChange:s=>i("platform",s.target.value),className:"w-full rounded-lg border border-neutral-700 bg-neutral-900 py-2.5 sm:py-3 px-3 sm:px-4 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 transition-colors text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Platforms"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:b,className:"w-full bg-primary-500 hover:bg-primary-600 text-gray-900 dark:text-white font-medium py-2.5 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors text-sm sm:text-base",children:"Apply Filters"})})]})]}),h&&e.jsxs("div",{className:"mb-4 sm:mb-6 rounded-lg bg-red-800/50 border border-red-600/50 py-3 px-4 text-sm text-red-200 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"âš ï¸"}),h]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-2 sm:gap-0",children:[e.jsxs("p",{className:"text-gray-400 text-sm sm:text-base",children:["Showing ",e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:r.length})," tournaments"]}),x>0&&e.jsx("button",{onClick:c,className:"text-primary-500 hover:text-primary-400 text-sm font-medium transition-colors",children:"Clear all filters"})]}),N?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[1,2,3,4,5,6].map(s=>e.jsx($,{},s))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(s=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:transform hover:scale-105 border border-neutral-700",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-neutral-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 sm:mb-4 gap-2",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white line-clamp-2 flex-1 min-w-0",children:s.name}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-medium flex-shrink-0 ${C(s.status)}`,children:[e.jsx("span",{className:"hidden sm:inline mr-1",children:S(s.status)}),s.status]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:s.game.logo_url,alt:s.game.name,className:"h-10 w-10 sm:h-12 sm:w-12 rounded-lg mr-3 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium text-sm sm:text-base truncate",children:s.game.name}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm truncate",children:s.platform.name})]})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[e.jsx(P,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-400 mr-1 sm:mr-2 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-gray-400",children:"Entry Fee"}),e.jsxs("div",{className:"text-gray-900 dark:text-white font-medium truncate",children:["$",s.entry_fee]})]})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[e.jsx(T,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-400 mr-1 sm:mr-2 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-gray-400",children:"Players"}),e.jsxs("div",{className:"text-gray-900 dark:text-white font-medium truncate",children:[s.current_slots,"/",s.total_slots]})]})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[e.jsx(w,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-400 mr-1 sm:mr-2 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-gray-400",children:"Prize Pool"}),e.jsxs("div",{className:"text-gray-900 dark:text-white font-medium truncate",children:["$",s.entry_fee*s.total_slots]})]})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm",children:[e.jsx(A,{className:"h-3 w-3 sm:h-4 sm:w-4 text-purple-400 mr-1 sm:mr-2 flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-gray-400",children:"Starts"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-xs truncate",children:new Date(s.start_time).toLocaleDateString()})]})]})]}),e.jsx(R,{to:`/tournaments/${s.id}`,className:"block w-full bg-primary-500 hover:bg-primary-600 text-gray-900 dark:text-white text-center font-medium py-2.5 sm:py-3 px-4 rounded-lg transition-colors text-sm sm:text-base",children:"View Tournament"})]})]},s.id))}):e.jsxs("div",{className:"text-center py-12 sm:py-16 bg-neutral-800 rounded-xl border border-neutral-700",children:[e.jsx("div",{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 rounded-full bg-neutral-700 flex items-center justify-center mb-4",children:e.jsx(w,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-400"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No tournaments found"}),e.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto text-sm sm:text-base px-4",children:t.search||t.game||t.platform||t.status!=="upcoming"?"Try adjusting your filters to see more results.":"There are no tournaments available at the moment. Check back later!"}),e.jsx("button",{onClick:c,className:"inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 border border-transparent rounded-lg shadow-sm text-sm sm:text-base font-medium text-gray-900 dark:text-white bg-primary-500 hover:bg-primary-600 transition-colors",children:"Clear Filters"})]})]}),e.jsx("style",{jsx:!0,children:`
        .animate-slide-down {
          animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})}export{U as default};
