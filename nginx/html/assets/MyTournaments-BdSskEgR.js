import{r as o,j as e,f as E,L as w,az as H,aN as R,t as _,B as S,T as U,U as Y,Z as B,n as V,d as I,k as Z,C as J,a_ as K,c as W}from"./index-Dd7dhgAO.js";import{F as A}from"./PlusIcon-BZ1xpnUY.js";import{F as P}from"./AdjustmentsHorizontalIcon-D4oxg-w4.js";import{F as M}from"./TrophyIcon-E9_GOpX6.js";import{F as q}from"./funnel-DMih0nG-.js";import{R as O}from"./refresh-cw-DojXSWB7.js";import{P as D}from"./plus-Czxl5K4M.js";function Q({title:t,titleId:n,...r},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const X=o.forwardRef(Q),ee=({stats:t})=>{const n=[{key:"total",label:"Total",color:"neutral"},{key:"open",label:"Open",color:"blue"},{key:"live",label:"Live",color:"green"},{key:"completed",label:"Completed",color:"purple"},{key:"cancelled",label:"Cancelled",color:"red"}];return e.jsx("div",{className:"hidden md:grid grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-4 mb-6 lg:mb-8",children:n.map(r=>e.jsxs("div",{className:`${r.color==="neutral"?"bg-neutral-800":`bg-${r.color}-500/10 border border-${r.color}-500/20`} rounded-lg p-3 sm:p-4 text-center`,children:[e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:t[r.key]}),e.jsx("div",{className:`text-xs sm:text-sm ${r.color==="neutral"?"text-gray-400":`text-${r.color}-400`}`,children:r.label})]},r.key))})},te=({filter:t,setFilter:n,stats:r})=>{const i=[{key:"all",label:"All",count:r.total},{key:"open",label:"Open",count:r.open},{key:"live",label:"Live",count:r.live},{key:"completed",label:"Completed",count:r.completed},{key:"cancelled",label:"Cancelled",count:r.cancelled}];return e.jsx("div",{className:"mb-4 sm:mb-6 bg-neutral-800 rounded-lg p-1 overflow-x-auto",children:e.jsx("nav",{className:"flex space-x-1 min-w-max",children:i.map(s=>e.jsx("button",{onClick:()=>n(s.key),className:`flex-1 py-2 px-3 sm:py-3 sm:px-4 text-xs sm:text-sm font-medium rounded-md transition-colors whitespace-nowrap ${t===s.key?"bg-primary-500 text-gray-900 dark:text-white shadow-lg":"text-gray-400 hover:text-gray-900 dark:text-white hover:bg-neutral-700"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2",children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx("span",{className:`px-1.5 py-0.5 sm:px-2 sm:py-1 text-xs rounded-full ${t===s.key?"bg-white/20":"bg-neutral-700"}`,children:s.count})]})},s.key))})})},ae=({tournament:t,actionLoading:n,onAction:r})=>{const[i,s]=o.useState({copied:!1,generating:!1,error:null}),u=l=>{switch(l){case"open":return"bg-blue-500/20 text-blue-300 border border-blue-500/30";case"live":return"bg-green-500/20 text-green-300 border border-green-500/30";case"completed":return"bg-purple-500/20 text-purple-300 border border-purple-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border border-red-500/30";default:return"bg-gray-500/20 text-gray-300 border border-gray-500/30"}},d=l=>{switch(l){case"open":return"ðŸ”µ";case"live":return"ðŸŸ¢";case"completed":return"ðŸŸ£";case"cancelled":return"ðŸ”´";default:return"âšª"}},b=l=>l.current_slots>=2&&l.status==="open",c=l=>l.status==="live"&&l.current_slots>=2,v=l=>l.status==="open",T=l=>l.status==="open"&&l.current_slots===0,k=l=>l.status!=="cancelled",x=(l,y)=>n===`${l}-${y}`,$=l=>{const y=new Date,h=new Date(l)-y;if(h<=0)return"Started";const F=Math.floor(h/(1e3*60*60*24)),C=Math.floor(h%(1e3*60*60*24)/(1e3*60*60));return F>0?`In ${F}d ${C}h`:C>0?`In ${C}h`:"Soon"},L=async l=>{l.preventDefault(),l.stopPropagation();try{s({copied:!1,generating:!0,error:null});const f=await(await fetch(`/api/tournaments/${t.id}/share-link`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();if(f.success){const h=f.data.share_url||f.data.short_url;await navigator.clipboard.writeText(h),s({copied:!0,generating:!1,error:null}),setTimeout(()=>{s({copied:!1,generating:!1,error:null})},3e3),window.showToast&&window.showToast("Share link copied to clipboard!","success")}else throw new Error(f.message||"Failed to generate share link")}catch(y){console.error("Share error:",y),s({copied:!1,generating:!1,error:y.message});try{const f=`${window.location.origin}/tournament/${t.id}/share`;await navigator.clipboard.writeText(f),s({copied:!0,generating:!1,error:null}),setTimeout(()=>{s({copied:!1,generating:!1,error:null})},3e3)}catch{s({copied:!1,generating:!1,error:"Failed to copy link"})}}};return e.jsxs("div",{className:"bg-neutral-800 rounded-lg shadow-lg hover:shadow-xl transition-shadow border border-neutral-700",children:[e.jsxs("div",{className:"p-4 sm:p-6 border-b border-neutral-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("img",{src:t.game?.logo_url||"/default-game.png",alt:t.game?.name,className:"h-8 w-8 sm:h-10 sm:w-10 rounded-md flex-shrink-0"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-base sm:text-lg truncate",children:t.name}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm truncate",children:t.game?.name})]})]}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-medium ml-2 flex-shrink-0 ${u(t.status)}`,children:[e.jsx("span",{className:"hidden sm:inline mr-1",children:d(t.status)}),t.status]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Participants:"}),e.jsxs("div",{className:"text-gray-900 dark:text-white font-medium",children:[t.current_slots,"/",t.total_slots]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Entry Fee:"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:t.entry_fee>0?E(t.entry_fee,"USD"):"free"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Prize Pool:"}),e.jsx("div",{className:"text-yellow-400 font-medium",children:E(t.entry_fee*t.total_slots,"USD")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Starts:"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-medium text-xs",children:$(t.start_time)})]})]})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(w,{to:`/tournaments/${t.id}`,className:"flex-1 border border-neutral-600 text-neutral-200 hover:bg-neutral-700/30 hover:border-neutral-400 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded text-center transition-all",children:"View Details"}),k(t)&&e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:L,disabled:i.generating||n,className:"border border-cyan-500 text-cyan-400 hover:bg-cyan-500/10 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded transition-all disabled:opacity-50 flex items-center gap-1.5",children:i.generating?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"h-3 w-3 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):i.copied?e.jsxs(e.Fragment,{children:[e.jsx(H,{size:14}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{size:14}),"Share"]})})}),T(t)&&e.jsx(w,{to:`/tournaments/${t.id}/edit`,className:"border border-blue-500 text-blue-400 hover:bg-blue-500/10 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded transition-all",children:"Edit"}),b(t)&&e.jsx("button",{onClick:()=>r("start",t.id,t.name),disabled:x("start",t.id),className:"border border-green-500 text-green-400 hover:bg-green-500/10 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded transition-all disabled:opacity-50",children:x("start",t.id)?"Starting...":"Start"}),c(t)&&e.jsx("button",{onClick:()=>r("finalize",t.id,t.name),disabled:x("finalize",t.id),className:"border border-purple-500 text-purple-400 hover:bg-purple-500/10 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded transition-all disabled:opacity-50",children:x("finalize",t.id)?"Finalizing...":"Finalize"}),v(t)&&e.jsx("button",{onClick:()=>r("cancel",t.id,t.name),disabled:x("cancel",t.id),className:"border border-red-500 text-red-400 hover:bg-red-500/10 text-xs sm:text-sm font-medium py-2 px-2 sm:px-3 rounded transition-all disabled:opacity-50",children:x("cancel",t.id)?"Canceling...":"Cancel"})]}),i.error&&e.jsxs("div",{className:"mt-2 p-2 bg-red-800/30 rounded text-red-300 text-xs",children:["Error: ",i.error]}),t.status==="open"&&t.current_slots<2&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-800/30 rounded text-yellow-300 text-xs",children:["Need ",2-t.current_slots," more participants to start"]})]})]})},re=()=>e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 md:p-6 border border-gray-200 dark:border-neutral-700 animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"h-5 bg-gray-200 dark:bg-neutral-700 rounded w-3/4"}),e.jsx("div",{className:"h-5 bg-gray-200 dark:bg-neutral-700 rounded w-16"})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-10 w-10 md:h-12 md:w-12 bg-gray-200 dark:bg-neutral-700 rounded-lg mr-3"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-24 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-neutral-700 rounded w-16"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4 mb-4",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-7 bg-gray-200 dark:bg-neutral-700 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-neutral-700 rounded w-16 mx-auto"})]},t))}),e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-neutral-700 rounded"})]}),se=({filter:t,isCreator:n=!1})=>{const r=()=>{if(!n)switch(t){case"live":return{title:"No Active Tournaments",description:"There are currently no live tournaments. Check back soon or browse scheduled tournaments.",actionText:"Browse Scheduled",actionTo:"/tournaments?scheduled=true",icon:M};case"completed":return{title:"No Completed Tournaments",description:"No completed tournaments found. Check back after tournaments finish.",actionText:"View Active Tournaments",actionTo:"/tournaments?status=live",icon:M};case"scheduled":return{title:"No Upcoming Tournaments",description:"There are no scheduled tournaments at the moment. Create one to get started.",actionText:"Create Tournament",actionTo:"/create-tournament",icon:A};default:return{title:"No Tournaments Found",description:"No tournaments match your current filters. Try adjusting your search criteria.",actionText:"Clear Filters",actionTo:"/tournaments",icon:P}}switch(t){case"live":return{title:"No Active Tournaments",description:"You don't have any live tournaments. Start one from your scheduled tournaments.",actionText:"View Scheduled",actionTo:"/tournaments?scheduled=true",icon:M};case"completed":return{title:"No Completed Tournaments",description:"Your completed tournaments will appear here once tournaments finish.",actionText:"View All Tournaments",actionTo:"/tournaments",icon:M};case"scheduled":return{title:"No Scheduled Tournaments",description:"You haven't scheduled any tournaments yet. Create your first tournament to get started.",actionText:"Create Tournament",actionTo:"/create-tournament",icon:A};default:return{title:"No Tournaments Created",description:"You haven't created any tournaments yet. Start by creating your first tournament!",actionText:"Create Your First Tournament",actionTo:"/create-tournament",icon:A}}},{title:i,description:s,actionText:u,actionTo:d,icon:b}=r();return e.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white dark:bg-neutral-800 rounded-xl border border-gray-200 dark:border-neutral-700 shadow-sm",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-100 dark:bg-neutral-700 mb-4 sm:mb-6",children:e.jsx(b,{className:"h-8 w-8 sm:h-10 sm:w-10 text-gray-600 dark:text-gray-300"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white mb-2",children:i}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-md mx-auto text-sm sm:text-base px-4",children:s}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[e.jsxs(w,{to:d,className:"inline-flex items-center justify-center px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg text-sm sm:text-base font-medium text-gray-900 dark:text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors",children:[e.jsx(A,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),u]}),t==="live"&&e.jsxs(w,{to:"/tournaments?scheduled=true",className:"inline-flex items-center justify-center px-4 sm:px-5 py-2.5 sm:py-3 rounded-lg text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-neutral-700 hover:bg-gray-200 dark:hover:bg-neutral-600 transition-colors",children:[e.jsx(P,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Browse Scheduled"]})]}),n&&t==="all"&&e.jsxs("div",{className:"mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-gray-200 dark:border-neutral-700",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-900 dark:text-white mb-3",children:"Getting Started Tips"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-left max-w-2xl mx-auto",children:[e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Plan Your Tournament"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Set clear rules, format, and prize structure"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Set a Schedule"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose dates that work for participants"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Promote Your Event"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Share with your community to get participants"})]})]})]}),t!=="all"&&!n&&e.jsx("div",{className:"mt-6",children:e.jsxs(w,{to:"/tournaments",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 transition-colors",children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"View all tournaments"]})})]})};function le(){const[t,n]=o.useState({isOpen:!1,title:"",message:"",confirmText:"Confirm",cancelText:"Cancel",onConfirm:null}),r=o.useCallback(({title:u,message:d,confirmText:b,cancelText:c})=>new Promise(v=>{n({isOpen:!0,title:u,message:d,confirmText:b||"Confirm",cancelText:c||"Cancel",onConfirm:T=>{n(k=>({...k,isOpen:!1})),v(T)}})}),[]),i=o.useCallback(()=>t.onConfirm?.(!1),[t]),s=o.useCallback(()=>t.onConfirm?.(!0),[t]);return{confirm:r,dialogProps:{isOpen:t.isOpen,title:t.title,message:t.message,confirmText:t.confirmText,cancelText:t.cancelText,onConfirm:s,onCancel:i}}}const ne=({isOpen:t,onClose:n,filter:r,setFilter:i,stats:s})=>{const u=[{id:"all",label:"All",count:s.total,icon:U},{id:"open",label:"Open",count:s.open,icon:Y},{id:"live",label:"Live",count:s.live,icon:B},{id:"completed",label:"Completed",count:s.completed,icon:V},{id:"cancelled",label:"Cancelled",count:s.cancelled,icon:I}];return t?e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:n}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-neutral-800 rounded-t-2xl shadow-xl p-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Filter Tournaments"}),e.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:e.jsx(W,{className:"h-5 w-5 rotate-90"})})]}),e.jsx("div",{className:"space-y-2",children:u.map(d=>e.jsxs("button",{onClick:()=>{i(d.id),n()},className:`w-full flex items-center justify-between p-3 rounded-lg transition-colors ${r===d.id?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"hover:bg-gray-50 dark:hover:bg-neutral-700"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${r===d.id?"bg-primary-100 dark:bg-primary-800":"bg-gray-100 dark:bg-neutral-700"}`,children:e.jsx(d.icon,{className:`h-4 w-4 ${r===d.id?"text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"}`})}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:d.label})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${r===d.id?"bg-primary-100 dark:bg-primary-800 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-neutral-700 text-gray-600 dark:text-gray-400"}`,children:d.count})]},d.id))})]})]}):null},ie=({stats:t})=>{const n=[{label:"Total",value:t.total,color:"text-blue-600 dark:text-blue-400"},{label:"Live",value:t.live,color:"text-green-600 dark:text-green-400"},{label:"Open",value:t.open,color:"text-purple-600 dark:text-purple-400"},{label:"Completed",value:t.completed,color:"text-emerald-600 dark:text-emerald-400"}];return e.jsx("div",{className:"md:hidden mb-6",children:e.jsx("div",{className:"grid grid-cols-4 gap-2",children:n.map((r,i)=>e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg p-3 text-center",children:[e.jsx("p",{className:`text-lg font-bold ${r.color}`,children:r.value}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.label})]},i))})})};function he(){const[t,n]=o.useState([]),[r,i]=o.useState(!0),[s,u]=o.useState(""),[d,b]=o.useState(""),[c,v]=o.useState("all"),[T,k]=o.useState(null),[x,$]=o.useState({total:0,open:0,live:0,completed:0,cancelled:0}),[L,l]=o.useState(!1),{confirm:y,dialogProps:f}=le();o.useEffect(()=>{h()},[c]);const h=async()=>{try{i(!0);let a={};c!=="all"&&(a.status=c);const g=await _.getMyTournaments(a);n(g.tournaments||[]),c==="all"?F(g.tournaments||[]):$(m=>({...m,[c]:g.tournaments?.length||0}))}catch(a){console.error("Failed to load tournaments:",a),u(a.response?.data?.message||"Failed to load your tournaments")}finally{i(!1)}},F=a=>{const g={total:a.length,open:a.filter(m=>m.status==="open").length,live:a.filter(m=>m.status==="live").length,completed:a.filter(m=>m.status==="completed").length,cancelled:a.filter(m=>m.status==="cancelled").length};$(g)},C=async(a,g,m)=>{k(`${a}-${g}`),u(""),b("");try{const p={cancel:{message:`Are you sure you want to cancel "${m}"? This action cannot be undone.`,service:()=>_.cancel(g)},start:{message:`Start tournament "${m}"? Participants will be notified.`,service:()=>_.start(g)},finalize:{message:`Finalize results for "${m}"? This will distribute prizes and close the tournament.`,service:()=>_.finalize(g)}}[a];if(!p)return;if(!await y({title:"Confirm Action",message:p.message,confirmText:"Yes, proceed",cancelText:"No, cancel"})){k(null);return}const j=await p.service();b(j.message||`Tournament ${a}ed successfully`),await h()}catch(N){console.error(`Failed to ${a} tournament:`,N),u(N.response?.data?.message||`Failed to ${a} tournament. Please try again.`)}finally{k(null)}},G=()=>e.jsx("div",{className:"fixed bottom-20 right-4 z-50 md:hidden",style:{isolation:"isolate"},children:e.jsx(w,{to:"/create-tournament",className:"flex items-center justify-center p-4 bg-primary-500 text-white dark:text-white rounded-full shadow-lg transform transition-all duration-200 hover:scale-105 hover:bg-primary-600 active:scale-95",children:e.jsx(D,{className:"h-6 w-6"})})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900 safe-padding",children:[e.jsx(ne,{isOpen:L,onClose:()=>l(!1),filter:c,setFilter:v,stats:x}),e.jsx(G,{}),e.jsxs("main",{className:"mx-auto max-w-7xl py-4 md:py-8 px-3 sm:px-4 lg:px-8",children:[e.jsx("div",{className:"md:hidden mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:"My Tournaments"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-0.5",children:"Manage and track tournament progress"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(!0),className:"p-2 bg-white dark:bg-neutral-800 border border-gray-300 dark:border-neutral-700 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:h,disabled:r,className:"p-2 bg-white dark:bg-neutral-800 border border-gray-300 dark:border-neutral-700 rounded-lg disabled:opacity-50",children:e.jsx(O,{className:`h-5 w-5 text-gray-600 dark:text-gray-400 ${r?"animate-spin":""}`})})]})]})}),e.jsxs("div",{className:"hidden md:flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 lg:mb-8 space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:"My Tournaments"}),e.jsx("p",{className:"mt-1 md:mt-2 text-sm md:text-base text-gray-600 dark:text-gray-400",children:"Manage and track your tournament progress"})]}),e.jsxs("div",{className:"flex space-x-2 sm:space-x-3 w-full lg:w-auto justify-end",children:[e.jsxs("button",{onClick:h,disabled:r,className:"bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 text-gray-900 dark:text-gray-900 dark:text-white font-medium py-2 px-3 sm:px-4 rounded-lg disabled:opacity-50 flex items-center text-sm sm:text-base transition-colors",children:[e.jsx(O,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),e.jsx("span",{className:"sm:hidden",children:"Reload"})]}),e.jsxs(w,{to:"/create-tournament",className:"bg-primary-500 hover:bg-primary-600 text-grey font-medium py-2 px-3 sm:px-4 rounded-lg flex items-center text-sm sm:text-base transition-colors",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Create Tournament"}),e.jsx("span",{className:"sm:hidden",children:"New"})]})]})]}),c==="all"&&e.jsx(ie,{stats:x}),c==="all"&&e.jsx(ee,{stats:x}),s&&e.jsx(S,{type:"error",title:"Action Failed",message:s,onClose:()=>u(""),className:"mb-4 md:mb-6"}),d&&e.jsx(S,{type:"success",title:"Success!",message:d,onClose:()=>b(""),className:"mb-4 md:mb-6"}),t.length===0&&!r&&e.jsx(S,{type:"info",title:"Ready to Create Your First Tournament?",message:"Create a tournament to start competing with other players and win prizes!",action:{text:"Create Tournament",to:"/create-tournament"},className:"mb-4 md:mb-6"}),e.jsx("div",{className:"md:hidden mb-6 overflow-x-auto",children:e.jsx("div",{className:"flex space-x-2 pb-2 no-scrollbar",children:[{id:"all",label:"All",icon:U},{id:"open",label:"Open",icon:Y},{id:"live",label:"Live",icon:B},{id:"completed",label:"Completed",icon:V},{id:"cancelled",label:"Cancelled",icon:I}].map(a=>e.jsxs("button",{onClick:()=>v(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${c===a.id?"bg-primary-500 text-blue":"bg-white dark:bg-neutral-800 text-gray-700 dark:text-gray-300"}`,children:[e.jsx(a.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.id))})}),e.jsx("div",{className:"hidden md:block mb-6",children:e.jsx(te,{filter:c,setFilter:v,stats:x})}),r?e.jsx("div",{className:"space-y-4 md:space-y-6",children:[1,2,3].map(a=>e.jsx(re,{},a))}):t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden space-y-4",children:t.map(a=>{const g=a.status!=="cancelled",m=async()=>{const p=`${window.location.origin}/tournaments/${a.id}`,z=`Join ${a.name} - $${a.entry_fee} entry fee, ${a.total_slots} slots available!`;if(navigator.share)try{await navigator.share({title:a.name,text:z,url:p}),window.showToast&&window.showToast("Tournament shared successfully!","success")}catch(j){j.name!=="AbortError"&&(console.error("Share error:",j),await N(p))}else await N(p)},N=async p=>{try{await navigator.clipboard.writeText(p),window.showToast&&window.showToast("Share link copied to clipboard!","success")}catch(z){console.error("Copy failed:",z);const j=document.createElement("textarea");j.value=p,document.body.appendChild(j),j.select(),document.execCommand("copy"),document.body.removeChild(j),window.showToast&&window.showToast("Link copied!","success")}};return e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-4 border border-gray-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-900 dark:text-white text-base truncate",children:a.name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":a.status==="live"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":a.status==="open"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:a.status}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:a.game_type})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:a.prize_pool>0?E(a.entry_fee||0,"USD"):"free"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:a.current_slots||0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Players"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:a.prize_pool>0?E(a.prize_pool||0,"USD"):"free"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Prize"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{to:`/tournaments/${a.id}`,className:"flex-1 text-center bg-gray-100 dark:bg-neutral-700 hover:bg-gray-200 dark:hover:bg-neutral-600 text-gray-900 dark:text-gray-900 dark:text-white font-medium py-2 px-4 rounded-lg transition-colors text-sm",children:"View Details"}),g&&e.jsxs("button",{onClick:m,className:"flex-1 text-center bg-cyan-50 dark:bg-cyan-900/20 hover:bg-cyan-100 dark:hover:bg-cyan-800/30 text-cyan-700 dark:text-cyan-400 border border-cyan-200 dark:border-cyan-800 font-medium py-2 px-4 rounded-lg transition-colors text-sm flex items-center justify-center gap-1",children:[e.jsx(R,{size:14}),"Share"]})]})]},a.id)})}),e.jsx("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4 md:gap-6",children:t.map(a=>e.jsx(ae,{tournament:a,actionLoading:T,onAction:C},a.id))})]}):e.jsx(se,{filter:c}),t.length>=5&&e.jsx(S,{type:"success",title:"Tournament Pro!",message:`You've created ${t.length} tournaments. Keep up the great work!`,className:"mt-4 md:mt-6",icon:e.jsx(Z,{className:"h-5 w-5"})}),x.live>0&&e.jsx(S,{type:"warning",title:"Live Tournaments",message:`You have ${x.live} tournament${x.live>1?"s":""} currently in progress. Make sure to monitor them closely.`,action:{text:"View Live",onClick:()=>v("live")},className:"mt-4 md:mt-6",icon:e.jsx(J,{className:"h-5 w-5"})}),e.jsx("div",{className:"md:hidden mt-8 bg-white dark:bg-neutral-800 rounded-xl p-4 border border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white text-sm",children:"Need Help?"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-0.5",children:"Check out our tournament guide"})]}),e.jsx(w,{to:"/support/tournaments",className:"text-primary-600 dark:text-primary-500 hover:text-primary-700 dark:hover:text-primary-400 text-sm font-medium",children:"View Guide â†’"})]})})]}),e.jsx(K,{...f}),e.jsx("div",{className:"h-16 md:h-0"})]})}export{he as default};
