import{r as s,Y as J,y as ge,w as je,x as pe,K as se,z,R as $,I as we,D as Wr,E as qr,F as Fe,G as Gr,H as fr,J as Zr,M as yr,N as vr,O as Yr,P as ve,Q as Me,V as he,W as ce,_ as O,$ as Kr,a0 as He,a1 as We,a2 as Jr,a3 as A,a4 as kr,a5 as Xr,a6 as jr,a7 as qe,a8 as wr,a9 as Ge,aa as I,ab as Nr,ac as fe,ad as Qr,ae as et,af as rt,ag as tt,ah as at,ai as st,aj as lt,ak as nt,al as it,am as Ze,an as dt,ao as ot,ap as ct,aq as Ye,ar as W,j as e,h as Ke,as as xt,f as R,T as P,U as K,n as mt,at as ke,d as Ee,k as ut,au as gt,L as ee,i as Se,C as re,av as _r,aw as Re,ax as me,ay as te,az as Je,B as ue,l as pt,aA as bt,u as ze,aB as ae,aC as ht,aD as Cr,aE as Xe,aF as ft,aG as yt,aH as vt,a as kt,t as oe,aI as jt,aJ as wt,aK as Nt,aL as _t,aM as Qe,aN as er,e as Ct,c as rr,aO as $t}from"./index-Dd7dhgAO.js";import{G as ye}from"./gamepad-2-DzKUdUBx.js";import{D as Ae}from"./dollar-sign-C7Q1cJTe.js";import{W as St}from"./wallet-TqJ8mJD4.js";import{P as Te}from"./plus-Czxl5K4M.js";import{m as G}from"./matchService-B9tNOTsl.js";import{F as Tt,a as Ft}from"./UserCircleIcon-B5TCXpP0.js";import{F as H}from"./TrophyIcon-E9_GOpX6.js";import{T as $r}from"./triangle-alert-B17QfviJ.js";import{F as Y}from"./ClockIcon-DpHVzJ4M.js";import{F as Mt}from"./ExclamationCircleIcon-BTEnl-o1.js";import{F as De}from"./ArrowPathIcon-BDzFR-8G.js";import{F as Et}from"./CalendarIcon-B5rpMcyZ.js";import{F as Rt}from"./UserGroupIcon-M5IdVf0V.js";import{F as Dt}from"./DocumentDuplicateIcon-C46orym1.js";import{F as Pt}from"./Cog6ToothIcon-dFrvu3TD.js";import{f as Lt}from"./formatters-DuOnlAX0.js";import{R as tr}from"./refresh-cw-DojXSWB7.js";let It=s.createContext(void 0);function zt(){return s.useContext(It)}let Be=s.createContext(null);Be.displayName="DescriptionContext";function Sr(){let r=s.useContext(Be);if(r===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Sr),t}return r}function At(){let[r,t]=s.useState([]);return[r.length>0?r.join(" "):void 0,s.useMemo(()=>function(a){let l=z(x=>(t(n=>[...n,x]),()=>t(n=>{let d=n.slice(),u=d.indexOf(x);return u!==-1&&d.splice(u,1),d}))),i=s.useMemo(()=>({register:l,slot:a.slot,name:a.name,props:a.props,value:a.value}),[l,a.slot,a.name,a.props,a.value]);return $.createElement(Be.Provider,{value:i},a.children)},[t])]}let Bt="p";function Ut(r,t){let a=s.useId(),l=zt(),{id:i=`headlessui-description-${a}`,...x}=r,n=Sr(),d=ge(t);je(()=>n.register(i),[i,n.register]);let u=pe({...n.slot,disabled:l||!1}),o={ref:d,...n.props,id:i};return se()({ourProps:o,theirProps:x,slot:u,defaultTag:Bt,name:n.name||"Description"})}let Ot=J(Ut),Vt=Object.assign(Ot,{}),Pe=new Map,xe=new Map;function ar(r){var t;let a=(t=xe.get(r))!=null?t:0;return xe.set(r,a+1),a!==0?()=>sr(r):(Pe.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0,()=>sr(r))}function sr(r){var t;let a=(t=xe.get(r))!=null?t:1;if(a===1?xe.delete(r):xe.set(r,a-1),a!==1)return;let l=Pe.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,Pe.delete(r))}function Ht(r,{allowed:t,disallowed:a}={}){let l=we(r,"inert-others");je(()=>{var i,x;if(!l)return;let n=Wr();for(let u of(i=a?.())!=null?i:[])u&&n.add(ar(u));let d=(x=t?.())!=null?x:[];for(let u of d){if(!u)continue;let o=qr(u);if(!o)continue;let m=u.parentElement;for(;m&&m!==o.body;){for(let p of m.children)d.some(h=>p.contains(h))||n.add(ar(p));m=m.parentElement}}return n.dispose},[l,t,a])}function Ue(r,t){let a=s.useRef([]),l=z(r);s.useEffect(()=>{let i=[...a.current];for(let[x,n]of t.entries())if(a.current[x]!==n){let d=l(t,i);return a.current=t,d}},[l,...t])}function Wt(r){function t(){document.readyState!=="loading"&&(r(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let V=[];Wt(()=>{function r(t){if(!Fe(t.target)||t.target===document.body||V[0]===t.target)return;let a=t.target;a=a.closest(Gr),V.unshift(a??t.target),V=V.filter(l=>l!=null&&l.isConnected),V.splice(10)}window.addEventListener("click",r,{capture:!0}),window.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("focus",r,{capture:!0}),document.body.addEventListener("click",r,{capture:!0}),document.body.addEventListener("mousedown",r,{capture:!0}),document.body.addEventListener("focus",r,{capture:!0})});function qt(r,t=typeof document<"u"?document.defaultView:null,a){let l=we(r,"escape");fr(t,"keydown",i=>{l&&(i.defaultPrevented||i.key===Zr.Escape&&a(i))})}function Gt(){var r;let[t]=s.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[a,l]=s.useState((r=t?.matches)!=null?r:!1);return je(()=>{if(!t)return;function i(x){l(x.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),a}function Tr(r){if(!r)return new Set;if(typeof r=="function")return new Set(r());let t=new Set;for(let a of r.current)Xr(a.current)&&t.add(a.current);return t}let Zt="div";var Z=(r=>(r[r.None=0]="None",r[r.InitialFocus=1]="InitialFocus",r[r.TabLock=2]="TabLock",r[r.FocusLock=4]="FocusLock",r[r.RestoreFocus=8]="RestoreFocus",r[r.AutoFocus=16]="AutoFocus",r))(Z||{});function Yt(r,t){let a=s.useRef(null),l=ge(a,t),{initialFocus:i,initialFocusFallback:x,containers:n,features:d=15,...u}=r;yr()||(d=0);let o=vr(a);Qt(d,{ownerDocument:o});let m=ea(d,{ownerDocument:o,container:a,initialFocus:i,initialFocusFallback:x});ra(d,{ownerDocument:o,container:a,containers:n,previousActiveElement:m});let p=Yr(),h=z(_=>{if(!ve(a.current))return;let N=a.current;(f=>f())(()=>{Me(p.current,{[he.Forwards]:()=>{ce(N,O.First,{skipElements:[_.relatedTarget,x]})},[he.Backwards]:()=>{ce(N,O.Last,{skipElements:[_.relatedTarget,x]})}})})}),g=we(!!(d&2),"focus-trap#tab-lock"),b=Kr(),c=s.useRef(!1),y={ref:l,onKeyDown(_){_.key=="Tab"&&(c.current=!0,b.requestAnimationFrame(()=>{c.current=!1}))},onBlur(_){if(!(d&4))return;let N=Tr(n);ve(a.current)&&N.add(a.current);let f=_.relatedTarget;Fe(f)&&f.dataset.headlessuiFocusGuard!=="true"&&(Fr(N,f)||(c.current?ce(a.current,Me(p.current,{[he.Forwards]:()=>O.Next,[he.Backwards]:()=>O.Previous})|O.WrapAround,{relativeTo:_.target}):Fe(_.target)&&A(_.target)))}},j=se();return $.createElement($.Fragment,null,g&&$.createElement(He,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:We.Focusable}),j({ourProps:y,theirProps:u,defaultTag:Zt,name:"FocusTrap"}),g&&$.createElement(He,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:We.Focusable}))}let Kt=J(Yt),Jt=Object.assign(Kt,{features:Z});function Xt(r=!0){let t=s.useRef(V.slice());return Ue(([a],[l])=>{l===!0&&a===!1&&jr(()=>{t.current.splice(0)}),l===!1&&a===!0&&(t.current=V.slice())},[r,V,t]),z(()=>{var a;return(a=t.current.find(l=>l!=null&&l.isConnected))!=null?a:null})}function Qt(r,{ownerDocument:t}){let a=!!(r&8),l=Xt(a);Ue(()=>{a||t?.activeElement===t?.body&&A(l())},[a]),Jr(()=>{a&&A(l())})}function ea(r,{ownerDocument:t,container:a,initialFocus:l,initialFocusFallback:i}){let x=s.useRef(null),n=we(!!(r&1),"focus-trap#initial-focus"),d=kr();return Ue(()=>{if(r===0)return;if(!n){i!=null&&i.current&&A(i.current);return}let u=a.current;u&&jr(()=>{if(!d.current)return;let o=t?.activeElement;if(l!=null&&l.current){if(l?.current===o){x.current=o;return}}else if(u.contains(o)){x.current=o;return}if(l!=null&&l.current)A(l.current);else{if(r&16){if(ce(u,O.First|O.AutoFocus)!==qe.Error)return}else if(ce(u,O.First)!==qe.Error)return;if(i!=null&&i.current&&(A(i.current),t?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}x.current=t?.activeElement})},[i,n,r]),x}function ra(r,{ownerDocument:t,container:a,containers:l,previousActiveElement:i}){let x=kr(),n=!!(r&4);fr(t?.defaultView,"focus",d=>{if(!n||!x.current)return;let u=Tr(l);ve(a.current)&&u.add(a.current);let o=i.current;if(!o)return;let m=d.target;ve(m)?Fr(u,m)?(i.current=m,A(m)):(d.preventDefault(),d.stopPropagation(),A(o)):A(i.current)},!0)}function Fr(r,t){for(let a of r)if(a.contains(t))return!0;return!1}var ta=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(ta||{}),aa=(r=>(r[r.SetTitleId=0]="SetTitleId",r))(aa||{});let sa={0(r,t){return r.titleId===t.id?r:{...r,titleId:t.id}}},Oe=s.createContext(null);Oe.displayName="DialogContext";function Ne(r){let t=s.useContext(Oe);if(t===null){let a=new Error(`<${r} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ne),a}return t}function la(r,t){return Me(t.type,sa,r,t)}let lr=J(function(r,t){let a=s.useId(),{id:l=`headlessui-dialog-${a}`,open:i,onClose:x,initialFocus:n,role:d="dialog",autoFocus:u=!0,__demoMode:o=!1,unmount:m=!1,...p}=r,h=s.useRef(!1);d=(function(){return d==="dialog"||d==="alertdialog"?d:(h.current||(h.current=!0,console.warn(`Invalid role [${d}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=wr();i===void 0&&g!==null&&(i=(g&fe.Open)===fe.Open);let b=s.useRef(null),c=ge(b,t),y=vr(b),j=i?0:1,[_,N]=s.useReducer(la,{titleId:null,descriptionId:null,panelRef:s.createRef()}),f=z(()=>x(!1)),C=z(M=>N({type:0,id:M})),v=yr()?j===0:!1,[S,k]=Qr(),E={get current(){var M;return(M=_.panelRef.current)!=null?M:b.current}},w=et(),{resolveContainers:T}=rt({mainTreeNode:w,portals:S,defaultContainers:[E]}),D=g!==null?(g&fe.Closing)===fe.Closing:!1;Ht(o||D?!1:v,{allowed:z(()=>{var M,be;return[(be=(M=b.current)==null?void 0:M.closest("[data-headlessui-portal]"))!=null?be:null]}),disallowed:z(()=>{var M;return[(M=w?.closest("body > *:not(#headlessui-portal-root)"))!=null?M:null]})});let U=tt.get(null);je(()=>{if(v)return U.actions.push(l),()=>U.actions.pop(l)},[U,l,v]);let X=at(U,s.useCallback(M=>U.selectors.isTop(M,l),[U,l]));st(X,T,M=>{M.preventDefault(),f()}),qt(X,y?.defaultView,M=>{M.preventDefault(),M.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),f()}),lt(o||D?!1:v,y,T),nt(v,b,f);let[le,ne]=At(),_e=s.useMemo(()=>[{dialogState:j,close:f,setTitleId:C,unmount:m},_],[j,f,C,m,_]),ie=pe({open:j===0}),L={ref:c,id:l,role:d,tabIndex:-1,"aria-modal":o?void 0:j===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":le,unmount:m},Ce=!Gt(),q=Z.None;v&&!o&&(q|=Z.RestoreFocus,q|=Z.TabLock,u&&(q|=Z.AutoFocus),Ce&&(q|=Z.InitialFocus));let $e=se();return $.createElement(it,null,$.createElement(Ze,{force:!0},$.createElement(dt,null,$.createElement(Oe.Provider,{value:_e},$.createElement(ot,{target:b},$.createElement(Ze,{force:!1},$.createElement(ne,{slot:ie},$.createElement(k,null,$.createElement(Jt,{initialFocus:n,initialFocusFallback:b,containers:T,features:q},$.createElement(ct,{value:f},$e({ourProps:L,theirProps:p,slot:ie,defaultTag:na,features:ia,visible:j===0,name:"Dialog"})))))))))))}),na="div",ia=Ye.RenderStrategy|Ye.Static;function da(r,t){let{transition:a=!1,open:l,...i}=r,x=wr(),n=r.hasOwnProperty("open")||x!==null,d=r.hasOwnProperty("onClose");if(!n&&!d)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!n)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!d)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!x&&typeof r.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r.open}`);if(typeof r.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r.onClose}`);return(l!==void 0||a)&&!i.static?$.createElement(Ge,null,$.createElement(I,{show:l,transition:a,unmount:i.unmount},$.createElement(lr,{ref:t,...i}))):$.createElement(Ge,null,$.createElement(lr,{ref:t,open:l,...i}))}let oa="div";function ca(r,t){let a=s.useId(),{id:l=`headlessui-dialog-panel-${a}`,transition:i=!1,...x}=r,[{dialogState:n,unmount:d},u]=Ne("Dialog.Panel"),o=ge(t,u.panelRef),m=pe({open:n===0}),p=z(y=>{y.stopPropagation()}),h={ref:o,id:l,onClick:p},g=i?Nr:s.Fragment,b=i?{unmount:d}:{},c=se();return $.createElement(g,{...b},c({ourProps:h,theirProps:x,slot:m,defaultTag:oa,name:"Dialog.Panel"}))}let xa="div";function ma(r,t){let{transition:a=!1,...l}=r,[{dialogState:i,unmount:x}]=Ne("Dialog.Backdrop"),n=pe({open:i===0}),d={ref:t,"aria-hidden":!0},u=a?Nr:s.Fragment,o=a?{unmount:x}:{},m=se();return $.createElement(u,{...o},m({ourProps:d,theirProps:l,slot:n,defaultTag:xa,name:"Dialog.Backdrop"}))}let ua="h2";function ga(r,t){let a=s.useId(),{id:l=`headlessui-dialog-title-${a}`,...i}=r,[{dialogState:x,setTitleId:n}]=Ne("Dialog.Title"),d=ge(t);s.useEffect(()=>(n(l),()=>n(null)),[l,n]);let u=pe({open:x===0}),o={ref:d,id:l};return se()({ourProps:o,theirProps:i,slot:u,defaultTag:ua,name:"Dialog.Title"})}let pa=J(da),ba=J(ca);J(ma);let ha=J(ga),B=Object.assign(pa,{Panel:ba,Title:ha,Description:Vt});function fa({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const ya=s.forwardRef(fa);function va({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Mr=s.forwardRef(va);function ka({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const ja=s.forwardRef(ka);function wa({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5V6.75a4.5 4.5 0 1 1 9 0v3.75M3.75 21.75h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H3.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Na=s.forwardRef(wa);function _a({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Ca=s.forwardRef(_a);function $a({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const nr=s.forwardRef($a);function Sa({title:r,titleId:t,...a},l){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},a),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Ta=s.forwardRef(Sa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ma=W("arrow-right",Fa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ra=W("circle-play",Ea);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Pa=W("external-link",Da);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ir=W("flag",La);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],za=W("shield-alert",Ia);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ba=W("sparkles",Aa);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dr=W("square-pen",Ua);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Va=W("user-x",Oa),Ha=({tournament:r})=>{const[t,a]=s.useState(!1),[l,i]=s.useState(!1);s.useEffect(()=>{if(r?.game?.logo_url){const u=new Image;u.src=r.game.logo_url,u.onload=()=>{a(!0),i(!1)},u.onerror=()=>{i(!0),a(!1)}}},[r?.game?.logo_url]);const n=(u=>{switch(u){case"upcoming":return{color:"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 border-blue-500/30",label:"Upcoming",icon:P,gradient:"from-blue-500/20 to-blue-600/10"};case"ongoing":return{color:"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30 border-green-500/30",label:"Live",icon:Ba,gradient:"from-green-500/20 to-emerald-600/10"};case"completed":return{color:"text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 border-purple-500/30",label:"Completed",icon:mt,gradient:"from-purple-500/20 to-purple-600/10"};case"cancelled":return{color:"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 border-red-500/30",label:"Cancelled",icon:"X",gradient:"from-red-500/20 to-red-600/10"};default:return{color:"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-900/30 border-gray-500/30",label:u,icon:ye,gradient:"from-gray-500/20 to-gray-600/10"}}})(r.status),d=n.icon;return e.jsxs("div",{className:"hidden md:block relative rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 overflow-hidden mb-6",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[r?.game?.logo_url&&!l&&e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:r.game.logo_url,alt:r.game.name,className:`w-full h-full object-cover transition-opacity duration-1000 ${t?"opacity-10 dark:opacity-15":"opacity-0"}`,loading:"lazy",onLoad:()=>a(!0),onError:()=>i(!0)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/60 via-white/40 to-transparent dark:from-neutral-900/80 dark:via-neutral-900/60 dark:to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white via-white/50 to-transparent dark:from-neutral-900 via-neutral-900/50 dark:to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-transparent to-purple-500/5"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${n.gradient} opacity-20`}),e.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}})]}),(!r?.game?.logo_url||l)&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20"}),r.is_featured&&e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl blur-xl opacity-20 animate-pulse"})]}),e.jsx("div",{className:"relative z-10 p-6 backdrop-blur-sm bg-white/70 dark:bg-neutral-800/70",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between",children:[e.jsxs("div",{className:"flex items-start mb-4 md:mb-0",children:[e.jsxs("div",{className:"relative mr-3 md:mr-4 flex-shrink-0",children:[e.jsx("div",{className:"h-14 w-14 md:h-16 md:w-16 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:r.game?.logo_url&&!l?e.jsx("img",{src:r.game.logo_url,alt:r.game.name,className:"h-10 w-10 md:h-12 md:w-12 object-contain rounded-lg",loading:"lazy"}):e.jsx(ye,{className:"h-7 w-7 md:h-8 md:w-8 text-gray-900 dark:text-white"})}),e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl blur opacity-30"}),r.is_featured&&e.jsx("div",{className:"absolute -top-1 -right-1 z-20",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ke,{className:"h-5 w-5 text-yellow-500 fill-yellow-500/20"}),e.jsx("div",{className:"absolute inset-0 animate-ping",children:e.jsx(Ke,{className:"h-5 w-5 text-yellow-500/40"})})]})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border backdrop-blur-sm ${n.color} shadow-sm`,children:[typeof d=="string"?d:e.jsx(d,{className:"h-3 w-3 mr-1.5"}),n.label]}),r.visibility==="public"&&e.jsxs("span",{className:"inline-flex items-center text-xs text-gray-600 dark:text-gray-300 bg-white/50 dark:bg-neutral-700/50 px-2 py-1 rounded-full backdrop-blur-sm",children:[e.jsx(xt,{className:"h-3 w-3 mr-1"}),"Public"]}),r.entry_fee>0&&e.jsxs("span",{className:"inline-flex items-center text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-2 py-1 rounded-full backdrop-blur-sm",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),R(r.entry_fee*r.total_slots||0,"USD")]})]}),e.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-gray-900 dark:text-gray-900 dark:text-white mb-1 drop-shadow-sm",children:r.name}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300 mb-1 md:mb-0",children:[e.jsx("div",{className:"p-1 bg-blue-100 dark:bg-blue-900/30 rounded mr-2",children:e.jsx(ye,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"font-medium truncate",children:r.game?.name||"Tournament"})]}),e.jsx("span",{className:"hidden md:block text-gray-400",children:"â€¢"}),e.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"p-1 bg-purple-100 dark:bg-purple-900/30 rounded mr-2",children:e.jsx(K,{className:"h-3 w-3 text-purple-600 dark:text-purple-400"})}),e.jsx("span",{className:"font-medium truncate",children:r.game_mode?.name||"Game Mode"})]}),r.platform?.name&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden md:block text-gray-400",children:"â€¢"}),e.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300",children:[e.jsx("div",{className:"p-1 bg-green-100 dark:bg-green-900/30 rounded mr-2",children:e.jsx("span",{className:"text-xs",children:"ðŸŽ®"})}),e.jsx("span",{className:"font-medium truncate",children:r.platform.name})]})]})]}),r.start_time&&e.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 text-xs mt-2",children:[e.jsx("div",{className:"p-1 bg-gray-100 dark:bg-neutral-700/50 rounded mr-2",children:e.jsx("span",{className:"text-xs",children:"â°"})}),e.jsxs("span",{children:["Starts ",new Date(r.start_time).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-start md:items-end mt-4 md:mt-0",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 font-medium",children:"Tournament Host"}),e.jsxs("div",{className:"flex items-center bg-white/50 dark:bg-neutral-700/50 backdrop-blur-sm rounded-lg p-2 pl-3 border border-gray-200/50 dark:border-neutral-700/50 shadow-sm",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center mr-2 shadow-sm",children:e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:r.creator?.username?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-900 dark:text-white block",children:r.creator?.username||"Unknown"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.creator?.role||"Organizer"})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg blur opacity-0 group-hover:opacity-20 transition-opacity duration-300 -z-10"})]}),r.participants&&e.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:r.current_slots||r.participants.length}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Joined"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-300 dark:bg-neutral-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:r.total_slots}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Slots"})]})]})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-30"})]})},Wa=({tournament:r})=>{const[t,a]=s.useState(""),[l,i]=s.useState(!1),[x,n]=s.useState("");s.useEffect(()=>{const m=()=>{const h=new Date,g=new Date(r.start_time),b=g-h;if(n(g.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),b<=0){i(!0),a("Live Now");return}const c=Math.floor(b/(1e3*60*60*24)),y=Math.floor(b%(1e3*60*60*24)/(1e3*60*60)),j=Math.floor(b%(1e3*60*60)/(1e3*60));c>0?a(`${c}d ${y}h`):y>0?a(`${y}h ${j}m`):a(`${j}m`)};m();const p=setInterval(m,6e4);return()=>clearInterval(p)},[r.start_time]);const d=Math.round(r.current_participants/r.total_slots*100),o=[{label:"Format",value:(m=>m?m.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase()):"Single Elimination")(r.format),icon:P,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/20"},{label:"Entry Fee",value:r.entry_fee===0?"Free":`${R(r.entry_fee,"USD")}`,icon:Ae,color:r.entry_fee===0?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400",bgColor:r.entry_fee===0?"bg-green-100 dark:bg-green-900/20":"bg-yellow-100 dark:bg-yellow-900/20"},{label:"Players",value:`${r.current_participants||0}/${r.total_slots||0}`,icon:K,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/20",progress:d},{label:l?"Status":"Starts",value:l?"Live Now":t,icon:l?ke:Ee,color:l?"text-green-600 dark:text-green-400":"text-cyan-600 dark:text-cyan-400",bgColor:l?"bg-green-100 dark:bg-green-900/20":"bg-cyan-100 dark:bg-cyan-900/20"}];return e.jsxs("div",{className:"hidden md:block border-t border-gray-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 px-6 py-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:o.map((m,p)=>{const h=m.icon;return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${m.bgColor} group-hover:scale-110 transition-transform duration-200`,children:e.jsx(h,{className:`h-4 w-4 md:h-5 md:w-5 ${m.color}`})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:m.label})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:`font-semibold text-gray-900 dark:text-gray-900 dark:text-white text-sm md:text-base ${m.label==="Starts"||m.label==="Status"?"text-xs md:text-sm":""}`,children:m.value}),m.progress!==void 0&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsxs("span",{children:[d,"% filled"]}),e.jsxs("span",{children:[r.total_slots-r.current_participants," spots left"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-neutral-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${d}%`}})})]}),m.label==="Starts"&&!l&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:x})]})]},p)})}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-neutral-300",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.status==="ongoing"?"bg-green-500 animate-pulse":r.status==="completed"?"bg-gray-500":r.status==="cancelled"?"bg-red-500":"bg-blue-500"}`}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:r.status?.charAt(0).toUpperCase()+r.status?.slice(1)||"Upcoming"})]}),r.visibility&&e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:r.visibility==="public"?"Public Tournament":"Private Tournament"})]}),r.prize_pool&&r.prize_pool>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-600 dark:text-emerald-400 font-medium",children:[e.jsx(ut,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[R(r.prize_pool,"USD")," Prize Pool"]})]})]})})]})},or=({tournament:r})=>{const t=a=>a===1?"1st":a===2?"2nd":a===3?"3rd":`${a}th`;return e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm md:shadow border border-gray-200 dark:border-neutral-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Details"}),e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300 dark:bg-neutral-600"})]}),r.rules&&e.jsxs("div",{className:"mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900 dark:text-gray-900 dark:text-white mb-2 md:mb-3",children:"Rules & Guidelines"}),e.jsx("div",{className:"bg-gray-50 dark:bg-neutral-700/30 rounded-lg p-3 md:p-4",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap text-sm leading-relaxed",children:r.rules})})]}),r.prizes&&r.prizes.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-medium text-gray-900 dark:text-gray-900 dark:text-white mb-2 md:mb-3",children:"Prize Distribution"}),e.jsx("div",{className:"bg-gray-50 dark:bg-neutral-700/30 rounded-lg p-3 md:p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 md:gap-3 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:"Position"}),e.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white text-right",children:"Prize"}),r.prizes.slice(0,5).map((a,l)=>e.jsxs("div",{className:"contents",children:[e.jsx("div",{className:"text-gray-600 dark:text-gray-400 py-1 border-b border-gray-200 dark:border-neutral-600",children:t(a.position)}),e.jsx("div",{className:"text-gray-900 dark:text-gray-900 dark:text-white font-medium py-1 border-b border-gray-200 dark:border-neutral-600 text-right",children:r.prize_pool>0?R(r.prize_pool,"USD"):"free"})]},l)),r.prizes.length>5&&e.jsx("div",{className:"col-span-2 pt-2 text-center",children:e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",r.prizes.length-5," more positions"]})})]})})]}),!r.rules&&(!r.prizes||r.prizes.length===0)&&e.jsxs("div",{className:"text-center py-6 md:py-8",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-gray-100 dark:bg-neutral-700 flex items-center justify-center mb-3",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No additional details provided for this tournament"})]})]})},qa={dark:{background:"bg-neutral-800",cardBackground:"bg-neutral-700/50",text:{primary:"text-gray-900 dark:text-white",secondary:"text-gray-300",tertiary:"text-gray-400",inverse:"text-gray-900 dark:text-white"},border:"border-neutral-700"}},Le=s.memo(({participant:r,theme:t})=>{const a=r.user?.username?.charAt(0).toUpperCase()||"?",l=r.final_standing===1,i=r.final_standing===2,x=r.final_standing===3,n=()=>l?"bg-yellow-500 text-yellow-50":i?"bg-gray-400 text-gray-50":x?"bg-amber-700 text-amber-50":r.final_standing?"bg-primary-500/20 text-primary-600 dark:text-primary-400":"bg-gray-200 dark:bg-neutral-600 text-gray-700 dark:text-gray-300";return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-all duration-200 hover:scale-[1.02] active:scale-100 ${t.cardBackground} ${t.border} border hover:border-primary-400/50`,children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:`h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 rounded-full flex items-center justify-center font-medium text-sm sm:text-base ${l?"bg-yellow-500 text-yellow-50":"bg-primary-500 text-gray-900 dark:text-white"}`,children:a}),r.is_current_user&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 sm:w-3.5 sm:h-3.5 rounded-full bg-green-500 border border-white dark:border-neutral-800"})]}),e.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[e.jsxs("p",{className:`text-sm sm:text-base font-medium truncate ${t.text.primary}`,children:[r.user?.username||"Unknown",r.is_current_user&&e.jsx("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:"(You)"})]}),r.gamer_tag&&e.jsx("p",{className:`text-xs sm:text-sm truncate mt-0.5 ${t.text.tertiary}`,children:r.gamer_tag}),r.team_name&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:r.team_name})]})]}),r.final_standing&&e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("span",{className:`inline-flex items-center justify-center min-w-[2rem] px-2 py-1 rounded-full text-xs font-medium ${n()}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"#",r.final_standing]}):`#${r.final_standing}`})}),r.status==="checked_in"&&e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-500/20 text-green-600 dark:text-green-400",children:"Checked In"})})]})});Le.displayName="ParticipantCard";const Ga=()=>e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(r=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100 dark:bg-neutral-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gray-200 dark:bg-neutral-600"}),e.jsxs("div",{className:"ml-3 flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-600 rounded w-24"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-neutral-600 rounded w-16"})]})]}),e.jsx("div",{className:"h-6 w-10 bg-gray-200 dark:bg-neutral-600 rounded-full"})]})},r))}),Za=({tournament:r,isLoading:t=!1})=>{const a=r?.participants?.length||0,l=qa.dark,i=s.useMemo(()=>r?.participants?[...r.participants].sort((n,d)=>n.final_standing&&d.final_standing?n.final_standing-d.final_standing:n.final_standing&&!d.final_standing?-1:!n.final_standing&&d.final_standing?1:n.user?.username?.localeCompare(d.user?.username)):[],[r?.participants]),x=s.useMemo(()=>{const n={winners:[],checkedIn:[],registered:[],waiting:[]};return i.forEach(d=>{d.final_standing===1?n.winners.push(d):d.status==="checked_in"?n.checkedIn.push(d):d.status==="registered"?n.registered.push(d):n.waiting.push(d)}),n},[i]);return t?e.jsxs("div",{className:`rounded-lg shadow p-4 sm:p-6 ${l.background}`,children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-neutral-700 rounded w-48 mb-4"}),e.jsx(Ga,{})]}):e.jsxs("div",{className:`rounded-lg shadow-lg border ${l.border} overflow-hidden ${l.background}`,children:[e.jsx("div",{className:"p-4 sm:p-6 border-b bg-gradient-to-r from-primary-500/10 to-primary-600/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-lg sm:text-xl font-bold ${l.text.primary}`,children:"Participants"}),e.jsxs("p",{className:`text-sm ${l.text.secondary} mt-1`,children:[a," player",a!==1?"s":""," registered"]})]}),a>0&&e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[x.winners.length>0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",children:[x.winners.length," winner",x.winners.length!==1?"s":""]}),x.checkedIn.length>0&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-500/20 text-green-700 dark:text-green-400",children:[x.checkedIn.length," checked in"]})]})]})}),e.jsx("div",{className:"p-4 sm:p-6",children:a>0?e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[x.winners.length>0&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-sm font-semibold text-yellow-600 dark:text-yellow-400 mb-2 sm:mb-3 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Tournament Winners"]}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:x.winners.map(n=>e.jsx(Le,{participant:n,theme:l},n.id))})]}),e.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mb-2 sm:mb-3",children:"All Participants"}),e.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-[400px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-neutral-700",children:i.map(n=>e.jsx(Le,{participant:n,theme:l},n.id))}),e.jsx("div",{className:"sm:hidden pt-4 border-t border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:l.text.secondary,children:[a," total"]}),x.checkedIn.length>0&&e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[x.checkedIn.length," checked in"]})]})})]}):e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 dark:bg-neutral-700/50 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.67 3.107a6 6 0 00-9.339-5.553"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white mb-2",children:"No Participants Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto text-sm",children:"Be the first to join this tournament! Participants will appear here once registered."})]})}),a>0&&e.jsx("div",{className:"px-4 sm:px-6 py-3 bg-gray-50 dark:bg-neutral-900/50 border-t border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:l.text.tertiary,children:["Showing ",a," participant",a!==1?"s":""]}),r?.max_participants&&e.jsxs("span",{className:`font-medium ${a>=r.max_participants?"text-red-600 dark:text-red-400":"text-primary-600 dark:text-primary-400"}`,children:[a,"/",r.max_participants," spots filled"]})]})})]})},cr=s.memo(Za),xr=({tournament:r,user:t,onJoinClick:a})=>{const[l,i]=s.useState(!0);s.useEffect(()=>{if(t===null){i(!1);return}if(t&&typeof t=="object"&&t.id){i(!1);return}const p=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(p)},[t]);const x=()=>!r||!t||!t.id?!1:r.participants?.some(p=>p.user_id===t.id),n=()=>r&&r.current_participants>=r.total_slots,d=()=>r?.start_time?new Date(r.start_time)<new Date:!1,u=()=>!(!t||!t.id||x()||n()||d()||r.status!=="open"&&r.status!=="upcoming"),o=()=>{if(!t||!t.id||!r)return!1;const p=parseFloat(t.wallet_balance||0),h=parseFloat(r.entry_fee||0);return p>=h},m=()=>x()?e.jsxs("button",{onClick:()=>window.location.href=`/tournaments/${r.id}/chat`,className:"w-full bg-primary-500 hover:bg-primary-600 text-red font-medium py-3 px-4 rounded-lg transition-colors text-sm flex items-center justify-center",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Joined"]}):u()?o()?e.jsxs("button",{onClick:a,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-black font-medium py-3 px-4 rounded-lg transition-colors text-sm flex items-center justify-center",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Join Tournament"]}):e.jsxs(ee,{to:"/deposit",className:"w-full bg-primary-500 hover:bg-primary-600 text-black font-medium py-3 px-4 rounded-lg transition-colors text-sm flex items-center justify-center",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Add Funds to Join"]}):e.jsx("button",{disabled:!0,className:"w-full bg-gray-100 dark:bg-neutral-700 text-gray-400 dark:text-gray-500 py-3 px-4 rounded-lg cursor-not-allowed text-sm",children:"Cannot Join"});return l?e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Join Tournament"}),e.jsx(gt,{className:"h-5 w-5 text-gray-400 animate-spin"})]}),e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-3/4 mx-auto"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-1/2 mx-auto"})]})})]}):t===null?e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Join Tournament"}),e.jsx(P,{className:"h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Sign in to join this tournament"}),e.jsx(ee,{to:"/login",className:"inline-block w-full bg-primary-500 hover:bg-primary-600 text-black font-medium py-2.5 px-4 rounded-lg transition-colors text-sm",children:"Sign In"})]})]}):!t||!t.id?e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-gray",children:"Join Tournament"}),e.jsx(Se,{className:"h-5 w-5 text-red-400"})]}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:"Authentication error. Please try signing in again."}),e.jsx(ee,{to:"/login",className:"inline-block w-full bg-primary-500 hover:bg-primary-600 text-gray-900 dark:text-white font-medium py-2.5 px-4 rounded-lg transition-colors text-sm",children:"Sign In Again"})]})]}):e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Join Tournament"}),e.jsx(P,{className:"h-5 w-5 text-primary-500"})]}),e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Entry Fee"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:R(r.entry_fee||0,"USD")})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your Balance"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:R(t.wallet_balance||0,"USD")})]}),!o()&&u()&&e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded-lg",children:[e.jsx(Se,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:["Need ",R(r.entry_fee-t.wallet_balance,"USD")," more"]})]})]}),e.jsx(m,{})]}),e.jsx("div",{className:"hidden md:block",children:x()?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-500/30",children:[e.jsx(ke,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"You're registered for this tournament"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-400 mt-0.5",children:"Tournament chat and updates available"})]})]}),e.jsxs("button",{onClick:()=>window.location.href=`/tournaments/${r.id}/chat`,className:"w-full bg-gray-100 dark:bg-neutral-700 hover:bg-gray-200 dark:hover:bg-neutral-600 text-gray-900 dark:text-gray-900 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Go to Tournament Chat",e.jsx(Ma,{className:"h-4 w-4 ml-2"})]})]}):n()?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-500/30",children:[e.jsx(K,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Tournament is full"}),e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400 mt-0.5",children:["All ",r.total_slots," spots have been taken"]})]})]}),e.jsx("button",{disabled:!0,className:"w-full bg-gray-100 dark:bg-neutral-700 text-gray-400 dark:text-gray-500 py-3 px-4 rounded-lg cursor-not-allowed",children:"Tournament Full"})]}):d()?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-500/30",children:[e.jsx(re,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Tournament has started"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-400 mt-0.5",children:"Registration is closed for this tournament"})]})]}),e.jsx("button",{disabled:!0,className:"w-full bg-gray-100 dark:bg-neutral-700 text-gray-400 dark:text-gray-500 py-3 px-4 rounded-lg cursor-not-allowed",children:"Tournament Started"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:e.jsx(Ae,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entry Fee"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:R(r.entry_fee||0,"USD")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:e.jsx(St,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your Balance"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:R(t.wallet_balance||0,"USD")})]})]})]}),!o()&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-500/30",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Se,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Insufficient funds"}),e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-400 mt-0.5",children:["You need ",R(r.entry_fee-t.wallet_balance,"USD")," more"]})]})]})})]}),e.jsx("div",{className:"space-y-3",children:o()?e.jsxs("button",{onClick:a,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 text-black font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center",children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"Join Tournament"]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{disabled:!0,className:"w-full bg-gray-100 dark:bg-neutral-700 text-gray-400 dark:text-gray-500 py-3 px-4 rounded-lg cursor-not-allowed",children:"Insufficient Funds"}),e.jsx(ee,{to:"/deposit",className:"block w-full bg-primary-500 hover:bg-primary-600 text-gray-900 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors text-center",children:"Add Funds"})]})}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-400 mr-2"}),"Slots available: ",r.total_slots-r.current_participants," of ",r.total_slots]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-400 mr-2"}),"Tournament starts: ",new Date(r.start_time).toLocaleDateString()]})]})})]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-neutral-700",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"By joining, you agree to the tournament rules and terms of service."})})]})},mr=({participant:r,score:t,isWinner:a,isCurrentUser:l})=>e.jsxs("div",{className:`flex-1 w-full sm:w-auto text-center p-4 rounded-lg border-2 transition-all ${a?"bg-green-500/10 border-green-500/30":"bg-neutral-700/40 border-neutral-600"} ${l?"ring-2 ring-primary-500/50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between sm:block",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:justify-center sm:flex-col",children:[e.jsx(Tt,{className:"h-8 w-8 text-gray-400"}),e.jsxs("div",{className:"text-left sm:text-center",children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium truncate text-sm",children:r?.user?.username||"TBD"}),e.jsx("p",{className:"text-gray-400 text-xs truncate",children:r?.gamer_tag||""})]})]}),t!==null&&e.jsx("div",{className:"sm:mt-3",children:e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t})})]}),a&&e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-green-400 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Winner"]})]}),Er=({show:r,onClose:t,title:a,icon:l,children:i,maxWidth:x="md",closeOnOverlayClick:n=!0,showCloseButton:d=!0})=>{const u={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-full mx-4"};return e.jsx(I,{appear:!0,show:r,as:s.Fragment,children:e.jsxs(B,{as:"div",className:"relative z-50",onClose:n?t:()=>{},children:[e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/75"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-3 sm:p-4 text-center",children:e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(B.Panel,{className:`w-full ${u[x]} transform overflow-hidden rounded-xl bg-white dark:bg-gray-800 p-4 sm:p-6 text-left align-middle shadow-xl transition-all border border-gray-200 dark:border-gray-700`,children:[e.jsxs(B.Title,{as:"div",className:"flex justify-between items-center mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l&&e.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-primary-50 dark:bg-primary-900/30",children:e.jsx(l,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary-600 dark:text-primary-400"})}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:a})]}),d&&e.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800","aria-label":"Close",children:e.jsx(_r,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:i})]})})})})]})})},ur={uploadEvidence:async r=>{const t=new FormData;return t.append("evidence",r),(await Re.post("/uploads/evidence",t,{headers:{"Content-Type":"multipart/form-data"}})).data},validateFile:r=>{if(!["image/jpeg","image/jpg","image/png","image/gif","video/mp4","video/avi","video/mov","video/wmv","application/pdf"].includes(r.type))throw new Error("Invalid file type. Please upload images, videos, or PDF files only.");if(r.size>52428800)throw new Error("File must be less than 50MB.");return!0},getFilePreview:r=>new Promise(t=>{const a=new FileReader;a.onload=l=>t(l.target.result),a.readAsDataURL(r)})};function Ya({onFileSelect:r,onUrlChange:t,currentFile:a,currentUrl:l}){const[i,x]=s.useState(!1),[n,d]=s.useState(""),[u,o]=s.useState(null),m=async g=>{try{if(d(""),ur.validateFile(g),g.type.startsWith("image/")){const b=await ur.getFilePreview(g);o(b)}else o(null);r(g)}catch(b){d(b.message)}},p=g=>{o(null),t(g)},h=()=>{o(null),r(null),t("")};return e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-gray-400 text-sm",children:"Evidence (Optional)"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Upload File"}),e.jsx("input",{type:"file",accept:"image/*,video/*,.pdf",onChange:g=>m(g.target.files[0]),className:"w-full text-sm text-gray-400 file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:text-sm file:font-medium file:bg-primary-500 file:text-gray-900 dark:text-white hover:file:bg-primary-600"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: Images (JPEG, PNG, GIF), Videos (MP4, AVI, MOV, WMV), PDF (Max 50MB)"})]}),e.jsxs("div",{className:"flex items-center my-2",children:[e.jsx("div",{className:"flex-1 border-t border-gray-600"}),e.jsx("span",{className:"px-2 text-sm text-gray-400",children:"OR"}),e.jsx("div",{className:"flex-1 border-t border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Evidence URL"}),e.jsx("input",{type:"url",value:l,onChange:g=>p(g.target.value),placeholder:"https://example.com/screenshot.jpg",className:"w-full rounded-md border border-neutral-600 bg-neutral-700 py-1 px-2 text-gray-900 dark:text-white text-sm"})]}),u&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Preview:"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:u,alt:"Evidence preview",className:"max-w-xs max-h-32 rounded border border-gray-600"}),e.jsx("button",{type:"button",onClick:h,className:"absolute -top-2 -right-2 bg-red-500 text-gray-900 dark:text-white rounded-full w-5 h-5 text-xs",children:"Ã—"})]})]}),a&&!u&&e.jsxs("div",{className:"mt-2 p-2 bg-neutral-600 rounded text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:a.name}),e.jsx("button",{type:"button",onClick:h,className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),e.jsxs("p",{className:"text-gray-400 text-xs",children:["Size: ",(a.size/1024/1024).toFixed(2)," MB"]})]}),n&&e.jsx("p",{className:"text-red-400 text-xs mt-1",children:n}),i&&e.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Uploading file..."})]})}const Ka=({show:r,onClose:t,onReport:a,score:l,onScoreChange:i,isReporting:x,error:n,isPlayer1:d})=>{const u=s.useCallback(()=>{l.player1_score!==l.player2_score&&a(l)},[l,a]);return e.jsx(Er,{show:r,onClose:t,title:"Report Score",icon:Mr,maxWidth:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 dark:text-gray-400 text-sm font-medium mb-2",children:"Your Score"}),e.jsx("input",{type:"number",min:"0",value:d?l.player1_score:l.player2_score,onChange:o=>{const m=parseInt(o.target.value)||0;i(d?{...l,player1_score:m}:{...l,player2_score:m})},className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm sm:text-base placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 dark:text-gray-400 text-sm font-medium mb-2",children:"Opponent Score"}),e.jsx("input",{type:"number",min:"0",value:d?l.player2_score:l.player1_score,onChange:o=>{const m=parseInt(o.target.value)||0;i(d?{...l,player2_score:m}:{...l,player1_score:m})},className:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm sm:text-base placeholder-gray-500 dark:placeholder-gray-400",placeholder:"0"})]})]}),e.jsx(Ya,{onFileSelect:o=>i({...l,evidence_file:o,evidence_url:""}),onUrlChange:o=>i({...l,evidence_url:o,evidence_file:null}),currentFile:l.evidence_file,currentUrl:l.evidence_url}),(n||l.player1_score===l.player2_score)&&e.jsxs("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 py-2.5 px-3 text-sm text-red-700 dark:text-red-300 flex items-start gap-2",children:[e.jsx(me,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"flex-1",children:n||"Scores cannot be equal. There must be a winner."})]}),e.jsxs("div",{className:"rounded-lg bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800 py-2.5 px-3 text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Important:"}),e.jsx("p",{className:"text-xs opacity-90",children:"Please provide evidence (screenshot or video URL) to support your score report. Both players must confirm the score or dispute it if incorrect."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsx("button",{onClick:u,disabled:x||l.player1_score===l.player2_score,className:"flex-1 flex items-center justify-center gap-2 bg-primary-500 hover:bg-primary-600 text-white font-medium py-2.5 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Reporting..."]}):"Submit Score"}),e.jsx("button",{onClick:t,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-medium py-2.5 px-4 rounded-lg transition-colors shadow-sm hover:shadow focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Cancel"})]})]})})},Ja=({show:r,onClose:t,onDispute:a,disputeReason:l,onDisputeReasonChange:i,isDisputing:x,error:n})=>e.jsx(Er,{show:r,onClose:t,title:"Raise Dispute",icon:te,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Why are you disputing this score?"}),e.jsx("textarea",{value:l,onChange:d=>i(d.target.value),placeholder:"Please explain why you believe the reported score is incorrect...",rows:4,className:"w-full rounded-lg border border-neutral-600 bg-neutral-700 py-2 px-3 text-gray-900 dark:text-white focus:outline-none focus:border-primary-500 resize-none text-sm sm:text-base"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide as much detail as possible for admin review"})]}),n&&e.jsxs("div",{className:"rounded-lg bg-red-800/50 border border-red-600/50 py-2 px-3 text-sm text-red-200 flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),n]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[e.jsx("button",{onClick:a,disabled:x||!l.trim(),className:"flex-1 flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-gray-900 dark:text-white font-medium py-2.5 px-4 rounded-lg transition-colors disabled:opacity-50 text-sm sm:text-base",children:x?"Submitting...":"Submit Dispute"}),e.jsx("button",{onClick:t,className:"flex items-center justify-center gap-2 bg-neutral-600 hover:bg-neutral-700 text-gray-900 dark:text-white font-medium py-2.5 px-4 rounded-lg transition-colors text-sm sm:text-base",children:"Cancel"})]})]})}),Rr=s.memo(({match:r,isReporter:t,isParticipant:a,onShowReport:l,onConfirm:i,onShowDispute:x,onMarkReady:n,onMarkNotReady:d,isConfirming:u,isDisputing:o,isMarkingReady:m,isMarkingNotReady:p,readyStatus:h})=>{if(!a)return null;const g=(f,C=!1,v=!1)=>`
    flex items-center justify-center gap-3 
    font-medium py-3 px-6 rounded-xl 
    transition-all duration-200 ease-out
    focus:outline-none focus:ring-4 focus:ring-opacity-50
    disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
    text-sm sm:text-base min-h-[52px]
    ${v?"w-full":"flex-1"}
    ${C?"cursor-wait":"hover:scale-105 active:scale-95 cursor-pointer"}
    ${f==="blue"?"bg-blue-600 hover:bg-blue-700 text-gray-900 dark:text-white focus:ring-blue-600":f==="green"?"bg-green-600 hover:bg-green-700 text-gray-900 dark:text-white focus:ring-green-600":f==="red"?"bg-red-600 hover:bg-red-700 text-gray-900 dark:text-white focus:ring-red-600":f==="yellow"?"bg-yellow-600 hover:bg-yellow-700 text-gray-900 dark:text-white focus:ring-yellow-600":f==="purple"?"bg-purple-600 hover:bg-purple-700 text-gray-900 dark:text-white focus:ring-purple-600":"bg-gray-600 hover:bg-gray-700 text-gray-900 dark:text-white focus:ring-gray-600"}
  `,b=(f,C)=>e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(pt,{size:"sm"}),e.jsx("span",{children:f})]}),c=(f,C,v=!1)=>v?b(f):e.jsxs("span",{className:"flex items-center space-x-3",children:[C,e.jsx("span",{children:f})]});r.participant1?.user_id===r.participant2?.user_id||r.participant1?.user_id===r.currentUser?.id?r.participant1?.user_id:r.participant2?.user_id;const y=h?.participant1Ready||h?.participant2Ready,j=h?.totalReady||0,_=h?.required||2,N=r.status==="live";return e.jsxs("div",{className:"p-4 pt-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.status==="scheduled"&&e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(Ra,{className:"h-5 w-5 text-green-500 animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-green-500",children:"Match is Live!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Waiting for players to be ready"})]})}),e.jsxs("div",{className:"text-xs text-gray-400",children:[j,"/",_," ready"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${j/_*100}%`}})}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:`flex items-center gap-1 ${h?.participant1Ready?"text-green-400":"text-gray-400"}`,children:[h?.participant1Ready?e.jsx(Je,{className:"h-3 w-3"}):e.jsx(re,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:r.participant1?.gamer_tag||"Player 1"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${h?.participant2Ready?"text-green-400":"text-gray-400"}`,children:[h?.participant2Ready?e.jsx(Je,{className:"h-3 w-3"}):e.jsx(re,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:r.participant2?.gamer_tag||"Player 2"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y?e.jsx("button",{onClick:d,disabled:p,className:g("yellow",p,!0),"aria-label":"Mark yourself as not ready",children:c(p?"Marking Not Ready...":"Not Ready Anymore",e.jsx(Va,{className:"h-5 w-5"}),p)}):e.jsx("button",{onClick:n,disabled:m,className:g("green",m,!0),"aria-label":"Mark yourself as ready",children:c(m?"Marking Ready...":"I'm Ready to Play",e.jsx(bt,{className:"h-5 w-5"}),m)}),N&&e.jsx("button",{onClick:l,className:g("blue"),"aria-label":"Report match score",children:c("Report Final Score",e.jsx(ir,{className:"h-5 w-5"}),!1)})]})]}),r.status==="live"&&e.jsx("div",{className:"w-full",children:e.jsx("button",{onClick:l,className:g("blue",!1,!0),"aria-label":"Report match score",children:c("Report Final Score",e.jsx(ir,{className:"h-5 w-5"}),!1)})}),r.status==="awaiting_confirmation"&&!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsx("button",{onClick:i,disabled:u,className:g("green",u),"aria-label":"Confirm match score",children:c(u?"Confirming...":"Confirm Score",e.jsx(ke,{className:"h-5 w-5"}),u)}),e.jsx("button",{onClick:x,disabled:o,className:g("red",o),"aria-label":"Dispute match score",children:c(o?"Disputing...":"Dispute Score",e.jsx($r,{className:"h-5 w-5"}),o)})]}),e.jsx("div",{className:"text-center sm:text-left mt-2",children:e.jsxs("p",{className:"text-xs text-gray-400 flex items-center justify-center sm:justify-start gap-1",children:[e.jsx(re,{className:"h-3 w-3"}),"Auto-confirms in ",r.auto_confirm_at?Math.max(0,Math.floor((new Date(r.auto_confirm_at).getTime()-Date.now())/6e4)):"?"," minutes"]})})]}),r.status==="disputed"&&e.jsxs("div",{className:"w-full",children:[e.jsx(ue,{type:"error",title:"Under Administration Review",message:"This match is currently being reviewed by tournament administrators. Please wait for resolution.",className:"w-full",showIcon:!0,dismissible:!0,icon:e.jsx(za,{className:"h-5 w-5"})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Contact support if you need immediate assistance"})})]}),r.status==="completed"&&r.winner_id&&e.jsx("div",{className:"w-full text-center py-2",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-500/20 text-green-300 px-4 py-2 rounded-full",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Match completed â€¢ ",r.winner_id===r.participant1?.user_id?r.participant1?.gamer_tag:r.participant2?.gamer_tag," won"]})]})})]}),r.status==="awaiting_confirmation"&&!t&&e.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-300 text-center",children:[e.jsx("strong",{children:"Please verify the reported score:"})," Confirm if correct or dispute if there's an issue"]})}),r.status==="scheduled"&&!N&&e.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-300 text-center",children:[e.jsx("strong",{children:"Ready to play?"}),` Click "I'm Ready to Play" when you're both present. The match will go live when both players are ready.`]})})]})});Rr.displayName="ActionButtons";const gr={scheduled:{color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",icon:Y,label:"Scheduled"},live:{color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",icon:H,label:"Live"},reported:{color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-900/20",borderColor:"border-amber-200 dark:border-amber-800",icon:te,label:"Reported"},completed:{color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",borderColor:"border-emerald-200 dark:border-emerald-800",icon:ae,label:"Completed"},disputed:{color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",icon:Mr,label:"Disputed"},awaiting_confirmation:{color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",icon:te,label:"Awaiting Confirmation"}},Dr=s.memo(({match:r,statusConfig:t,timeRemaining:a})=>{const l=()=>a?a<3e5?"text-red-500 dark:text-red-400":a<6e5?"text-amber-500 dark:text-amber-400":"text-green-500 dark:text-green-400":"text-gray-500 dark:text-gray-400",i=()=>{if(!a)return null;const x=Math.floor(a/6e4),n=Math.floor(a%6e4/1e3);return`${x}:${n.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-white/50 dark:bg-gray-800/50",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 truncate",children:["Match #",r.id]}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1 truncate",children:["Round ",r.round_number," â€¢ Match ",r.match_order]})]}),e.jsxs("div",{className:"flex items-center space-x-2 shrink-0",children:[a&&e.jsx("span",{className:`text-sm font-medium ${l()} min-w-[55px] text-center`,title:`${Math.floor(a/6e4)} minutes remaining`,children:i()}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${t.color} ${t.bgColor} border ${t.borderColor} shadow-xs`,children:t.label})]})]})});Dr.displayName="MatchHeader";const Pr=s.memo(({match:r,isPlayer1:t,isPlayer2:a})=>e.jsxs("div",{className:"p-4 sm:p-6 flex flex-col sm:flex-row items-stretch gap-4 bg-white dark:bg-gray-800",children:[e.jsx(mr,{participant:r.participant1,score:r.participant1_score,isWinner:r.winner_id===r.participant1?.user_id,isCurrentUser:t}),e.jsx("div",{className:"flex items-center justify-center py-2 sm:py-0 sm:px-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:flex-col sm:gap-1",children:[e.jsx("div",{className:"h-px w-8 bg-gray-300 dark:bg-gray-600 sm:h-8 sm:w-px"}),e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600",children:e.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-bold text-xs",children:"VS"})}),e.jsx("div",{className:"h-px w-8 bg-gray-300 dark:bg-gray-600 sm:h-8 sm:w-px"})]})}),e.jsx(mr,{participant:r.participant2,score:r.participant2_score,isWinner:r.winner_id===r.participant2?.user_id,isCurrentUser:a})]}));Pr.displayName="ParticipantsSection";function Xa({match:r,onUpdate:t}){const{user:a}=ze(),{isPlayer1:l,isPlayer2:i,isParticipant:x,isReporter:n}=s.useMemo(()=>({isPlayer1:a&&r.participant1?.user_id===a.id,isPlayer2:a&&r.participant2?.user_id===a.id,isParticipant:a&&r.participant1?.user_id===a.id||a&&r.participant2?.user_id===a.id,isReporter:a&&r.reported_by_user_id===a.id}),[a,r.participant1?.user_id,r.participant2?.user_id,r.reported_by_user_id]),[d,u]=s.useState({player1_score:r.participant1_score||0,player2_score:r.participant2_score||0,evidence_file:null,evidence_url:""}),[o,m]=s.useState(""),[p,h]=s.useState(!1),[g,b]=s.useState(!1),[c,y]=s.useState(!1),[j,_]=s.useState(!1),[N,f]=s.useState(!1),[C,v]=s.useState(!1),[S,k]=s.useState(!1),[E,w]=s.useState(""),[T,D]=s.useState(""),[U,X]=s.useState(null),[le,ne]=s.useState({participant1Ready:!1,participant2Ready:!1,totalReady:0,required:2,isLive:r.status==="live"}),_e=s.useMemo(()=>gr[r.status]||gr.scheduled,[r.status]),ie=s.useMemo(()=>{if(r.status==="awaiting_confirmation")return n?"Waiting for opponent confirmation":"Opponent reported score. Please confirm or dispute";if(r.status==="scheduled"&&x){const F=le.totalReady;if(F===0)return"Both players need to mark themselves as ready";if(F===1)return"One player is ready. Waiting for the other..."}return r.status==="live"?"Match is live! You can now play and report the final score.":null},[r.status,n,x,le.totalReady]);s.useEffect(()=>{if(r.status==="awaiting_confirmation"&&r.auto_confirm_at){const F=()=>{const Q=Date.now(),Ve=new Date(r.auto_confirm_at).getTime()-Q;Ve<=0?X(null):X(Ve)};F();const de=setInterval(F,1e3);return()=>clearInterval(de)}else X(null)},[r.status,r.auto_confirm_at]),s.useEffect(()=>{const F=async()=>{if(!(!x||!["scheduled","live"].includes(r.status)))try{const Q=await G.getReadyStatus(r.id);ne(Q),Q.isLive&&r.status!=="live"&&t()}catch(Q){console.error("Failed to fetch ready status:",Q)}};F();const de=setInterval(F,5e3);return()=>clearInterval(de)},[r.id,r.status,x,t]);const L=s.useCallback(()=>{u({player1_score:r.participant1_score||0,player2_score:r.participant2_score||0,evidence_file:null,evidence_url:""}),m(""),w(""),D("")},[r.participant1_score,r.participant2_score]),Ce=s.useCallback(async()=>{y(!0),w(""),D("");try{await G.reportScore(r.id,d),D("Score reported successfully. Waiting for opponent confirmation."),h(!1),L(),t()}catch(F){w(F.response?.data?.message||"Failed to report score.")}finally{y(!1)}},[r.id,d,t,L]),q=s.useCallback(async()=>{_(!0),w(""),D("");try{await G.confirmScore(r.id),D("Score confirmed successfully. Match completed."),t()}catch(F){w(F.response?.data?.message||"Failed to confirm score.")}finally{_(!1)}},[r.id,t]),$e=s.useCallback(async()=>{if(!o.trim()){w("Please provide a reason for disputing the score.");return}f(!0),w(""),D("");try{await G.dispute(r.id,{reason:o,evidence_url:""}),D("Dispute raised successfully. Admins will review it."),b(!1),L(),t()}catch(F){w(F.response?.data?.message||"Failed to raise dispute.")}finally{f(!1)}},[r.id,o,t,L]),M=s.useCallback(async()=>{v(!0),w("");try{const F=await G.markReady(r.id);ne(F.readyStatus),D(F.message),F.readyStatus.isLive&&r.status!=="live"&&t()}catch(F){w(F.response?.data?.message||"Failed to mark as ready.")}finally{v(!1)}},[r.id,r.status,t]),be=s.useCallback(async()=>{k(!0),w("");try{const F=await G.markNotReady(r.id);ne(de=>({...de,isLive:!1})),D(F.message),r.status==="live"&&t()}catch(F){w(F.response?.data?.message||"Failed to mark as not ready.")}finally{k(!1)}},[r.id,r.status,t]),Ar=s.useCallback(()=>{if(r.status!=="live"){w("Match must be live before reporting scores. Both players must be ready.");return}h(!0)},[r.status]),Br=s.useCallback(()=>b(!0),[]),Ur=s.useCallback(()=>{h(!1),L()},[L]),Or=s.useCallback(()=>{b(!1),L()},[L]),Vr=s.useCallback(()=>w(""),[]),Hr=s.useCallback(()=>D(""),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Ka,{show:p,onClose:Ur,onReport:Ce,score:d,onScoreChange:u,isReporting:c,error:E,isPlayer1:l}),e.jsx(Ja,{show:g,onClose:Or,onDispute:$e,disputeReason:o,onDisputeReasonChange:m,isDisputing:N,error:E}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md dark:shadow-gray-900/50 border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 w-full overflow-hidden",children:[e.jsx(Dr,{match:r,statusConfig:_e,timeRemaining:U}),T&&e.jsx(ue,{type:"success",title:"Success!",autoDismiss:!0,message:T,onClose:Hr,className:"mx-4 mt-4 mb-0"}),E&&e.jsx(ue,{type:"error",title:"Action Failed",message:E,autoDismiss:!0,onClose:Vr,className:"mx-4 mt-4 mb-0"}),e.jsx(Pr,{match:r,isPlayer1:l,isPlayer2:i}),ie&&e.jsx("div",{className:"px-4 sm:px-6 pb-4",children:e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center",children:ie})})}),e.jsx(Rr,{match:r,isReporter:n,isParticipant:x,onShowReport:Ar,onConfirm:q,onShowDispute:Br,onMarkReady:M,onMarkNotReady:be,isConfirming:j,isDisputing:N,isMarkingReady:C,isMarkingNotReady:S,readyStatus:le})]})]})}const Qa=()=>e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700 p-4 animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-neutral-700 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-neutral-700 rounded w-32"})]}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-neutral-700 rounded w-24"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-8 bg-gray-200 dark:bg-neutral-700 rounded"}),e.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[1,2].map(t=>e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-neutral-700 rounded"},t))})]},r))})]}),Ie=s.memo(({match:r,onMatchUpdate:t,onExpandMatch:a})=>{const l=r.status==="completed",i=r.status==="live",x=r.status==="awaiting_confirmation",n=r.status==="disputed",d=r.status==="reported",u=()=>i?"bg-red-500/20 text-red-400 border-red-500/30":l?"bg-green-500/20 text-green-400 border-green-500/30":x?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":n?"bg-red-500/20 text-red-400 border-red-500/30":d?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-blue-500/20 text-blue-400 border-blue-500/30",o=()=>i?"LIVE":l?"DONE":x?"AWAITING":n?"DISPUTED":d?"REPORTED":"SCHEDULED";return e.jsxs("div",{onClick:()=>a(r),className:`bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700 
        p-3 min-w-[180px] cursor-pointer transition-all duration-200 
        hover:shadow-lg hover:border-primary-500 dark:hover:border-primary-400
        active:scale-95`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${u()}`,children:o()}),r.match_order&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["#",r.match_order]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${r.winner_id===r.participant1?.user_id?"bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/30":"bg-gray-50 dark:bg-neutral-750"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.winner_id===r.participant1?.user_id&&e.jsx(ae,{className:"h-3 w-3 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsx("span",{className:`text-xs font-medium truncate ${r.winner_id===r.participant1?.user_id?"text-green-700 dark:text-green-300":"text-gray-900 dark:text-gray-900 dark:text-white"}`,children:r.participant1?.user?.username||"TBD"})]}),e.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 ml-2",children:r.participant1_score??"-"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${r.winner_id===r.participant2?.user_id?"bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/30":"bg-gray-50 dark:bg-neutral-750"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[r.winner_id===r.participant2?.user_id&&e.jsx(ae,{className:"h-3 w-3 text-green-600 dark:text-green-400 flex-shrink-0"}),e.jsx("span",{className:`text-xs font-medium truncate ${r.winner_id===r.participant2?.user_id?"text-green-700 dark:text-green-300":"text-gray-900 dark:text-gray-900 dark:text-white"}`,children:r.participant2?.user?.username||"TBD"})]}),e.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 ml-2",children:r.participant2_score??"-"})]})]})]})});Ie.displayName="MatchNode";const Lr=s.memo(({rounds:r,viewMode:t,onScrollLeft:a,onScrollRight:l,onMatchUpdate:i,onExpandMatch:x})=>{const n=s.useRef(null),d=(o,m)=>o===m?"Final":o===m-1?"Semi-Finals":o===m-2?"Quarter-Finals":`Round ${o}`,u=(o,m)=>o===m?"text-yellow-600 dark:text-yellow-400":o>=m-2?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400";return t==="list"?e.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([o,m])=>e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:d(Number(o),Object.keys(r).length)}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.length," match",m.length!==1?"es":""]})]}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${Number(o)===Object.keys(r).length?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400":"bg-gray-100 dark:bg-neutral-700 text-gray-700 dark:text-gray-300"}`,children:["Round ",o]})]})}),e.jsx("div",{className:"p-4 space-y-3",children:m.map(p=>e.jsx(Ie,{match:p,onMatchUpdate:i,onExpandMatch:x},p.id))})]},o))}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden lg:flex absolute left-0 top-0 bottom-0 items-center z-10",children:e.jsx("button",{onClick:a,className:"p-2 rounded-full bg-white dark:bg-neutral-800 shadow-lg border border-gray-200 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors",children:e.jsx(Ft,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})}),e.jsx("div",{className:"hidden lg:flex absolute right-0 top-0 bottom-0 items-center z-10",children:e.jsx("button",{onClick:l,className:"p-2 rounded-full bg-white dark:bg-neutral-800 shadow-lg border border-gray-200 dark:border-neutral-700 hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors",children:e.jsx(Cr,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})}),e.jsx("div",{ref:n,className:"overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-neutral-700",style:{scrollbarWidth:"thin"},children:e.jsx("div",{className:"flex space-x-6 min-w-max px-4",children:Object.entries(r).map(([o,m])=>e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-neutral-800 z-10 pb-2",children:e.jsxs("div",{className:`text-center px-3 py-2 rounded-lg border ${Number(o)===Object.keys(r).length?"border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-neutral-700 bg-gray-50 dark:bg-neutral-750"}`,children:[e.jsx("h3",{className:`font-bold ${u(Number(o),Object.keys(r).length)}`,children:d(Number(o),Object.keys(r).length)}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[m.length," match",m.length!==1?"es":""]})]})}),e.jsx("div",{className:"space-y-4",children:m.map(p=>e.jsxs("div",{className:"relative",children:[Number(o)>1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -left-4 top-1/2 w-4 h-px bg-gray-300 dark:bg-neutral-600"}),e.jsx("div",{className:"absolute -left-4 top-1/2 w-px h-16 bg-gray-300 dark:bg-neutral-600 -translate-y-1/2"})]}),e.jsx(Ie,{match:p,onMatchUpdate:i,onExpandMatch:x})]},p.id))})]},o))})})]})});Lr.displayName="BracketVisualization";function es({tournamentId:r}){const[t,a]=s.useState([]),[l,i]=s.useState(!0),[x,n]=s.useState(""),[d,u]=s.useState(!1),[o,m]=s.useState("grid"),[p,h]=s.useState(null),g=s.useRef(null),b=s.useCallback(async(C=!1)=>{try{C?u(!0):i(!0),n("");const v=await G.getTournamentMatches(r);a(v)}catch(v){console.error("Failed to load matches:",v),n(v.response?.data?.message||"Failed to load tournament matches. Please try again.")}finally{i(!1),u(!1)}},[r]),c=s.useCallback(()=>{b(!0),h(null)},[b]),y=s.useCallback(C=>{h(C)},[]),j=s.useCallback(()=>{h(null)},[]),_=C=>{const v=g.current;if(!v)return;const S=C==="left"?-400:400;v.scrollBy({left:S,behavior:"smooth"})};s.useEffect(()=>{b()},[b]);const N=s.useMemo(()=>{const C={};return t.forEach(v=>{C[v.round_number]||(C[v.round_number]=[]),C[v.round_number].push(v)}),Object.keys(C).sort((v,S)=>v-S).reduce((v,S)=>(v[S]=C[S].sort((k,E)=>k.match_order-E.match_order),v),{})},[t]),f=s.useMemo(()=>{if(!t.length)return{completed:0,live:0,upcoming:0,total:0};const C=t.filter(k=>k.status==="completed").length,v=t.filter(k=>k.status==="live").length,S=t.filter(k=>k.status==="upcoming"||!k.status).length;return{completed:C,live:v,upcoming:S,total:t.length}},[t]);return l?e.jsx(Qa,{}):x?e.jsx("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(Mt,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white mb-2",children:"Unable to load bracket"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:x}),e.jsxs("button",{onClick:()=>b(),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-gray-900 dark:text-white rounded-lg font-medium transition-colors",children:[e.jsx(De,{className:"h-4 w-4"}),"Try Again"]})]})}):e.jsxs(e.Fragment,{children:[p&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-neutral-800 p-4 border-b border-neutral-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Match Details"}),e.jsx("button",{onClick:j,className:"p-2 rounded-lg hover:bg-neutral-700 transition-colors",children:e.jsx(me,{className:"h-6 w-6 text-gray-400"})})]}),e.jsx("div",{className:"p-4",children:e.jsx(Xa,{match:p,onUpdate:c})})]})}),e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg border border-gray-200 dark:border-neutral-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-neutral-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Bracket"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsxs("span",{children:[f.total," total matches"]})]}),f.live>0&&e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-red-600 dark:text-red-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.live," live"]}),f.completed>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(ae,{className:"h-4 w-4"}),f.completed," completed"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(!0),disabled:d,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",title:"Refresh bracket",children:e.jsx(De,{className:`h-5 w-5 text-gray-600 dark:text-gray-400 ${d?"animate-spin":""}`})}),e.jsxs("div",{className:"flex items-center rounded-lg border border-gray-200 dark:border-neutral-700 overflow-hidden",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${o==="grid"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-neutral-700"}`,title:"Grid view",children:e.jsx(Ta,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 ${o==="list"?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-neutral-700"}`,title:"List view",children:e.jsx(ht,{className:"h-5 w-5"})})]})]})]})}),e.jsx("div",{className:"p-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 dark:bg-neutral-750 rounded-full flex items-center justify-center mb-4",children:e.jsx(H,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-900 dark:text-white mb-2",children:"Bracket Not Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-sm mx-auto",children:"Tournament matches will be displayed here once the bracket is generated."})]}):e.jsx(Lr,{rounds:N,viewMode:o,onScrollLeft:()=>_("left"),onScrollRight:()=>_("right"),onMatchUpdate:c,onExpandMatch:y})}),e.jsx("div",{className:"lg:hidden px-4 pb-4",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Tap on any match to view details and report scores"})})]})]})}const rs=s.memo(es),pr={getDisputes:async()=>(await Re.get("/admin/disputes")).data,resolveDispute:async(r,t)=>(await Re.post(`/admin/disputes/${r}/resolve`,t)).data};function ts(){const[r,t]=s.useState([]),[a,l]=s.useState(!0),[i,x]=s.useState(""),[n,d]=s.useState(null),[u,o]=s.useState(""),{user:m}=ze();s.useEffect(()=>{m?.role==="admin"&&p()},[m]);const p=async()=>{try{const g=await pr.getDisputes();t(g)}catch(g){x(g.response?.data?.message||"Failed to load disputes")}finally{l(!1)}},h=async g=>{d(g),x("");try{await pr.resolveDispute(g,{resolution:u,winner_id:u.includes("player1")?r.find(b=>b.id===g).match.participant1_id:r.find(b=>b.id===g).match.participant2_id}),o(""),t(r.filter(b=>b.id!==g))}catch(b){x(b.response?.data?.message||"Failed to resolve dispute")}finally{d(null)}};return!m||m.role!=="admin"?null:a?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):e.jsxs("div",{className:"bg-neutral-800 rounded-lg shadow p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Dispute Resolution"}),i&&e.jsx("div",{className:"mb-4 rounded-md bg-red-800/50 py-2 px-3 text-sm text-red-200",children:i}),r.length===0?e.jsx("p",{className:"text-gray-400",children:"No active disputes."}):e.jsx("div",{className:"space-y-4",children:r.map(g=>e.jsxs("div",{className:"border border-neutral-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-900 dark:text-white font-medium",children:["Dispute #",g.id]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Match: ",g.match.participant1?.user?.username," vs ",g.match.participant2?.user?.username]})]}),e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-300 text-xs rounded-full",children:"Disputed"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Reason:"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:g.reason})]}),g.evidence_url&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Evidence:"}),e.jsx("a",{href:g.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-400 text-sm",children:"View Evidence"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:n===g.id?u:"",onChange:b=>o(b.target.value),className:"rounded-md border border-neutral-600 bg-neutral-700 py-1 px-2 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select resolution"}),e.jsxs("option",{value:"resolved_in_favor_player1",children:["Resolve in favor of ",g.match.participant1?.user?.username]}),e.jsxs("option",{value:"resolved_in_favor_player2",children:["Resolve in favor of ",g.match.participant2?.user?.username]})]}),e.jsx("button",{onClick:()=>h(g.id),disabled:!u||n===g.id,className:"bg-green-600 hover:bg-green-700 text-gray-900 dark:text-white text-sm font-medium py-1 px-3 rounded disabled:opacity-50",children:n===g.id?"Resolving...":"Resolve"})]})]},g.id))})]})}const br=({tournament:r})=>s.useMemo(()=>r?.status==="live"||r?.status==="completed",[r?.status])?e.jsxs("div",{className:"space-y-6",children:[e.jsx(rs,{tournamentId:r.id}),e.jsx(ts,{tournamentId:r.id})]}):e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-gray-200 dark:border-neutral-700 p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Tournament Bracket"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"The bracket will be generated when the tournament starts."})]}),hr=({tournament:r})=>{const[t,a]=s.useState(""),[l,i]=s.useState(""),x=s.useCallback(c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),[]),n=s.useCallback(c=>new Date(c).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),[]),d=s.useCallback(c=>{const y=new Date(c),_=Math.abs(new Date-y),N=Math.floor(_/(1e3*60)),f=Math.floor(N/60),C=Math.floor(f/24),v=Math.floor(C/7),S=Math.floor(C/30),k=Math.floor(C/365);return k>0?`${k} year${k>1?"s":""} ago`:S>0?`${S} month${S>1?"s":""} ago`:v>0?`${v} week${v>1?"s":""} ago`:C>0?`${C} day${C>1?"s":""} ago`:f>0?`${f} hour${f>1?"s":""} ago`:N>0?`${N} minute${N>1?"s":""} ago`:"Just now"},[]);s.useEffect(()=>{const c=()=>{r.created_at&&a(d(r.created_at)),r.updated_at&&i(d(r.updated_at))};c();const y=setInterval(c,6e4);return()=>clearInterval(y)},[r.created_at,r.updated_at,d]);const u=s.useCallback(c=>c?c.split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"Single Elimination",[]),o=s.useCallback(c=>({scheduled:{color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100 dark:bg-blue-900/20",icon:Y},locked:{color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-100 dark:bg-yellow-900/20",icon:Xe},live:{color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/20",icon:as||Y},completed:{color:"text-purple-600 dark:text-purple-400",bg:"bg-purple-100 dark:bg-purple-900/20",icon:H},cancelled:{color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/20",icon:ss||Y}})[c]||{color:"text-gray-600 dark:text-gray-400",bg:"bg-gray-100 dark:bg-gray-800",icon:Y},[]),m=s.useMemo(()=>"ontouchstart"in window||navigator.maxTouchPoints>0,[]),p=s.useMemo(()=>!r.total_slots||r.total_slots===0?0:Math.round(r.current_slots/r.total_slots*100),[r.current_slots,r.total_slots]),h=s.useMemo(()=>p>=90?"bg-green-500 dark:bg-green-400":p>=50?"bg-yellow-500 dark:bg-yellow-400":"bg-blue-500 dark:bg-blue-400",[p]),g=s.useMemo(()=>{const c=o(r.status).icon;return[{label:"Visibility",value:r.visibility==="public"?"Public":"Private",icon:r.visibility==="public"?Na:Xe,color:r.visibility==="public"?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"},{label:"Status",value:r.status.charAt(0).toUpperCase()+r.status.slice(1),icon:c,color:o(r.status).color},{label:"Created",value:r.created_at?x(r.created_at):"N/A",subtext:t||"Calculating...",icon:Et,color:"text-gray-600 dark:text-gray-400"},{label:"Participants",value:`${r.current_slots} / ${r.total_slots}`,subtext:`${p}% filled`,icon:Rt,color:"text-blue-600 dark:text-blue-400",progress:!0},...r.updated_at?[{label:"Last Updated",value:x(r.updated_at),subtext:`${l} â€¢ ${n(r.updated_at)}`,icon:De,color:"text-gray-600 dark:text-gray-400"}]:[],{label:"Tournament ID",value:`#${r.id}`,icon:ja,color:"text-gray-600 dark:text-gray-400"},{label:"Format",value:u(r.format),icon:ya,color:"text-purple-600 dark:text-purple-400"},...r.prize_pool?[{label:"Prize Pool",value:`${r.prize_pool>0?R(r.prize_pool,"USD"):"free"}`,icon:H,color:"text-yellow-600 dark:text-yellow-400"}]:[]]},[r,x,n,u,t,l,o,p]),b=s.useCallback(async()=>{if(r.invite_code)try{await navigator.clipboard.writeText(r.invite_code);const c=document.querySelector("[data-copy-button]");if(c){const y=c.textContent;c.textContent="Copied!",c.classList.add("text-green-600","dark:text-green-400"),setTimeout(()=>{c.textContent=y,c.classList.remove("text-green-600","dark:text-green-400")},2e3)}}catch(c){console.error("Failed to copy:",c)}},[r.invite_code]);return e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-neutral-700 p-2 rounded-lg",children:e.jsx(ft,{className:"h-5 w-5 text-gray-700 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Details"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-0.5",children:"Key information and statistics"})]})]}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.map((c,y)=>{const j=c.icon,_=y===g.length-1;return e.jsx("div",{className:`pb-3 sm:pb-4 ${_?"":"border-b border-gray-100 dark:border-neutral-700"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${c.color.replace("text-","bg-").replace("600","100").replace("400","900/20")}`,children:e.jsx(j,{className:`h-4 w-4 ${c.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:c.label}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-900 dark:text-white truncate",children:c.value}),c.subtext&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:c.subtext}),c.progress&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[p,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-gray-200 dark:bg-neutral-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${h} transition-all duration-300`,style:{width:`${Math.min(p,100)}%`}})})]})]})]})},c.label)})}),r.invite_code&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-neutral-700/30 rounded-lg border border-gray-200 dark:border-neutral-600",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Dt,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Invite Code"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-mono text-sm text-gray-900 dark:text-gray-900 dark:text-white truncate bg-gray-100 dark:bg-neutral-800 px-3 py-2 rounded border border-gray-300 dark:border-neutral-600",children:r.banner_url}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Share this code to invite participants"})]}),e.jsx("button",{"data-copy-button":!0,onClick:b,className:`ml-3 text-sm font-medium px-3 py-2 rounded-lg border transition-colors ${m?"active:scale-95":""} bg-white dark:bg-neutral-800 border-gray-300 dark:border-neutral-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-neutral-700`,"aria-label":"Copy invite code",children:"Copy"})]})]}),m&&e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-neutral-700/30 p-3 rounded-lg border border-gray-200 dark:border-neutral-600",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Entry Fee"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:R(r.entry_fee||0,"USD")})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-neutral-700/30 p-3 rounded-lg border border-gray-200 dark:border-neutral-600",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Remaining"}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:[Math.max(0,r.total_slots-r.current_slots)," slots"]})]})]})]})},as=({className:r})=>e.jsxs("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),ss=({className:r})=>e.jsx("svg",{className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ls=({isOpen:r,onClose:t,tournament:a,onJoin:l,joinError:i,joinSuccess:x,isJoining:n,setJoinError:d,setJoinSuccess:u})=>{const[o,m]=s.useState(""),[p,h]=s.useState(!1),[g,b]=s.useState(!1),c=s.useRef(null),y=s.useMemo(()=>{const k=o.trim();return k.length>=2&&k.length<=50},[o]),j=s.useMemo(()=>p&&!y&&o.length>0,[p,y,o]);s.useEffect(()=>{if(r&&c.current){const k=requestAnimationFrame(()=>{/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||c.current?.focus({preventScroll:!0})});return()=>cancelAnimationFrame(k)}},[r]),s.useEffect(()=>{if(!r){const k=setTimeout(()=>{m(""),h(!1),b(!1),d(""),u("")},300);return()=>clearTimeout(k)}},[r,d,u]);const _=s.useCallback(k=>{m(k),h(!0),i&&d(""),x&&u("")},[i,x,d,u]),N=s.useCallback(async k=>{k?.preventDefault();const E=o.trim();if(!E){d("Please enter your gamer tag"),c.current?.focus();return}if(!g){d("Please accept the terms and conditions");return}if(E.length<2){d("Gamer tag must be at least 2 characters long"),c.current?.focus();return}if(E.length>50){d("Gamer tag must be less than 50 characters"),c.current?.focus();return}d(""),u(""),await l(E)},[o,g,l,d,u]),f=s.useCallback(k=>{k.key==="Escape"&&!n&&t(),(k.key==="Enter"&&(k.ctrlKey||k.metaKey)||k.key==="Enter"&&k.target.type!=="textarea")&&!n&&y&&g&&N()},[n,y,g,N,t]),C=s.useCallback(()=>{n||t()},[n,t]),v=s.useMemo(()=>"ontouchstart"in window||navigator.maxTouchPoints>0,[]),S={dialog:"w-full max-w-md transform overflow-hidden rounded-2xl p-4 sm:p-6 text-left align-middle shadow-xl transition-all border",backdrop:"fixed inset-0 bg-black bg-opacity-75 backdrop-blur-sm",input:"w-full rounded-lg border py-2.5 px-3 placeholder-gray-400 focus:outline-none focus:ring-2 text-sm transition-colors",buttonPrimary:"inline-flex justify-center items-center rounded-lg border border-transparent px-4 py-2.5 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors min-w-20",buttonSecondary:"inline-flex justify-center rounded-lg border px-4 py-2.5 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"};return e.jsx(I,{appear:!0,show:r,as:s.Fragment,children:e.jsxs(B,{as:"div",className:"relative z-50",onClose:C,children:[e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:S.backdrop})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-3 sm:p-4 text-center touch-manipulation",children:e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(B.Panel,{className:`${S.dialog} 
                  bg-white dark:bg-neutral-800 
                  border-gray-200 dark:border-neutral-700
                  max-h-[90vh] overflow-y-auto`,onKeyDown:f,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4 sticky top-0 bg-white dark:bg-neutral-800 pt-1",children:[e.jsx(B.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900 dark:text-gray-900 dark:text-white",children:"Join Tournament"}),e.jsx("button",{type:"button",className:`rounded-lg p-1.5 text-gray-500 dark:text-gray-400 
                      hover:text-gray-700 dark:hover:text-gray-300 
                      hover:bg-gray-100 dark:hover:bg-neutral-700 
                      transition-colors focus:outline-none focus:ring-2 
                      focus:ring-primary-500 ${v?"active:scale-95":""}`,onClick:C,disabled:n,"aria-label":"Close modal",children:e.jsx(_r,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-neutral-700/50 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white text-sm mb-2 line-clamp-1",children:a.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Entry Fee"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:["$",a.entry_fee]})]})]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"gamerTag",className:"block text-sm font-medium text-gray-900 dark:text-gray-900 dark:text-white mb-2",children:"Your Gamer Tag *"}),e.jsx("input",{ref:c,type:"text",id:"gamerTag",value:o,onChange:k=>_(k.target.value),disabled:n,className:`${S.input} 
                        bg-gray-50 dark:bg-neutral-700 
                        text-gray-900 dark:text-gray-900 dark:text-white
                        ${j||i?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-neutral-600 focus:border-primary-500 focus:ring-primary-500"} ${n?"opacity-60 cursor-not-allowed":""}
                        ${v?"text-lg":""}`,placeholder:"Enter your in-game username","aria-invalid":j||!!i,"aria-describedby":j?"gamerTag-error":i?"join-error":void 0,inputMode:"text",autoCapitalize:"none",autoComplete:"username"}),e.jsxs("div",{className:`text-xs mt-1 ${j?"text-red-500 dark:text-red-400":"text-gray-500 dark:text-gray-400"}`,children:[o.length,"/50 characters"]}),j&&e.jsxs("p",{id:"gamerTag-error",className:"text-red-600 dark:text-red-400 text-xs mt-1.5 flex items-center",children:[e.jsx(te,{className:"h-3 w-3 mr-1.5 flex-shrink-0"}),"Gamer tag must be 2-50 characters long"]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:k=>b(k.target.checked),disabled:n,className:`mt-0.5 rounded border-gray-300 dark:border-neutral-600 
                          bg-white dark:bg-neutral-700 
                          text-primary-500 focus:ring-primary-500 
                          focus:ring-offset-0 dark:focus:ring-offset-neutral-800
                          w-4 h-4`}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:["I agree to the"," ",e.jsx("button",{type:"button",className:`text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300 
                            underline focus:outline-none focus:ring-2 focus:ring-primary-500 rounded`,onClick:k=>{k.preventDefault(),console.log("Open terms and conditions")},"aria-label":"View terms and conditions",children:"terms and conditions"})," ","and understand that the $",a.entry_fee," entry fee is non-refundable."]})]})}),i&&e.jsxs("div",{id:"join-error",className:`mb-4 rounded-lg bg-red-50 dark:bg-red-900/30 
                        border border-red-200 dark:border-red-800 
                        py-2.5 px-3 text-sm text-red-800 dark:text-red-200 
                        flex items-start`,role:"alert",children:[e.jsx(te,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:i})]}),x&&e.jsxs("div",{className:`mb-4 rounded-lg bg-green-50 dark:bg-green-900/30 
                        border border-green-200 dark:border-green-800 
                        py-2.5 px-3 text-sm text-green-800 dark:text-green-200 
                        flex items-start`,role:"status",children:[e.jsx(ae,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:x})]}),e.jsxs("div",{className:"mt-6 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 sm:space-y-0 space-y-reverse",children:[e.jsx("button",{type:"button",className:`${S.buttonSecondary}
                        border-gray-300 dark:border-neutral-600
                        bg-transparent
                        text-gray-700 dark:text-gray-300 
                        hover:bg-gray-50 dark:hover:bg-neutral-700
                        focus:ring-primary-500 focus:ring-offset-0 dark:focus:ring-offset-neutral-800
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${v?"active:scale-98 py-3":"py-2.5"}`,onClick:C,disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||!y||!g,className:`
    ${S.buttonPrimary}
    relative overflow-hidden
    bg-primary-500 dark:bg-primary-500 
    text-grey
    shadow-md dark:shadow-primary-900/30
    hover:shadow-lg hover:bg-primary-600 
    active:scale-[0.98]

    focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 
    dark:focus:ring-offset-neutral-900

    transition-all duration-200 ease-out

    rounded-xl
    font-medium tracking-wide
    ${v?"py-3":"py-2.5"}

    disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none
  `,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Joining..."]}):"Join"})]})]}),!v&&e.jsx("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Press Ctrl+Enter to submit quickly"})]})})})})]})})},ns=$.memo(ls);function is({tournament:r,onAction:t}){const[a,l]=s.useState(!1),[i,x]=s.useState(""),[n,d]=s.useState(!1),u=s.useMemo(()=>"ontouchstart"in window||navigator.maxTouchPoints>0,[]),o=s.useCallback(async c=>{if(c==="cancel"||c==="start"||c==="finalize")x(c),l(!0);else{d(!0);try{await t(c)}finally{d(!1)}}},[t]),m=s.useCallback(async()=>{d(!0);try{await t(i),l(!1),x("")}finally{d(!1)}},[i,t]),p=s.useCallback(c=>({cancel:{label:"Cancel Tournament",description:"This will permanently cancel the tournament and refund all participants. This action cannot be undone.",buttonText:"Confirm action",icon:me,iconColor:"text-red-600 dark:text-red-400",bgColor:"bg-red-100 dark:bg-red-900/20",buttonStyle:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 focus-visible:ring-red-500",confirmStyle:"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700"},start:{label:"Start Tournament",description:"Begin the tournament and generate the bracket. Participants will be notified and matches will be created.",buttonText:"Start Tournament",icon:nr,iconColor:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/20",buttonStyle:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 focus-visible:ring-green-500",confirmStyle:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700"},finalize:{label:"Finalize Tournament",description:"Mark tournament as completed and distribute prizes. Ensure all matches are finished before finalizing.",buttonText:"Finalize Tournament",icon:H,iconColor:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/20",buttonStyle:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700 focus-visible:ring-purple-500",confirmStyle:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700"}})[c]||{},[]),h=s.useMemo(()=>{const c=r.current_slots<=2,y=r.status==="locked"&&r.current_slots>=2,j=r.status==="ongoing",_=r.status==="live",N=[];return c&&!_&&N.push({type:"cancel",label:"Cancel Tournament",description:"Cancel and refund all participants",icon:me,style:"bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",iconStyle:"text-red-600 dark:text-red-400",requiresConfirmation:!0,disabled:_}),y&&N.push({type:"start",label:"Start Tournament",description:"Begin tournament and generate bracket",icon:nr,style:"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",iconStyle:"text-green-600 dark:text-green-400",requiresConfirmation:!0}),j&&N.push({type:"finalize",label:"Finalize Tournament",description:"Complete tournament and distribute prizes",icon:H,style:"bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 border-purple-200 dark:border-purple-800 text-purple-700 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300",iconStyle:"text-purple-600 dark:text-purple-400",requiresConfirmation:!0}),!_&&r.status!=="completed"&&N.push({type:"edit",label:"Edit Tournament",description:"Modify tournament settings",icon:Ca,style:"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",iconStyle:"text-blue-600 dark:text-blue-400",isLink:!0,to:`/tournaments/${r.id}/edit`}),N},[r]),g=p(i),b=g.icon;return h.length===0?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl shadow-sm border border-gray-200 dark:border-neutral-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-2 rounded-lg",children:e.jsx(Pt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-600 dark:text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-0.5",children:"Administrative actions for this tournament"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:h.map(c=>{const y=c.icon;return c.isLink?e.jsxs(ee,{to:c.to,className:`flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg border transition-all duration-200 group ${c.style} ${u?"active:scale-98":""}`,children:[e.jsx("div",{className:`p-2 rounded-lg bg-white dark:bg-neutral-700 group-hover:scale-105 transition-transform duration-200 ${c.iconStyle}`,children:e.jsx(y,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm group-hover:text-gray-900 dark:group-hover:text-gray-900 dark:text-white transition-colors",children:c.label}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-1",children:c.description})]}),e.jsx(Cr,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 group-hover:translate-x-1 transition-transform"})]},c.type):e.jsxs("button",{onClick:()=>(c.requiresConfirmation,o(c.type)),disabled:n||c.disabled,className:`flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-lg border transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed ${c.style} ${u?"active:scale-98":""} ${c.disabled?"":"hover:shadow-sm"}`,children:[e.jsx("div",{className:`p-2 rounded-lg bg-white dark:bg-neutral-700 group-hover:scale-105 transition-transform duration-200 ${c.iconStyle}`,children:e.jsx(y,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("div",{className:"font-semibold text-sm group-hover:text-gray-900 dark:group-hover:text-gray-900 dark:text-white transition-colors",children:c.label}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-1",children:c.description})]}),n&&c.type===i&&e.jsx(Y,{className:"h-4 w-4 animate-spin text-gray-400 dark:text-gray-500"})]},c.type)})})]}),e.jsx(I,{appear:!0,show:a,as:s.Fragment,children:e.jsxs(B,{as:"div",className:"relative z-50",onClose:()=>!n&&l(!1),children:[e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-3 sm:p-4",children:e.jsx(I.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(B.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-xl sm:rounded-2xl bg-white dark:bg-neutral-800 p-4 sm:p-6 text-left align-middle shadow-xl transition-all border border-gray-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4",children:[e.jsx("div",{className:`p-2.5 sm:p-3 rounded-lg ${g.bgColor} ${g.iconColor}`,children:b&&e.jsx(b,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(B.Title,{as:"h3",className:"text-base sm:text-lg font-semibold leading-6 text-gray-900 dark:text-gray-900 dark:text-white line-clamp-1",children:g.label}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:"Please confirm this action"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:g.description}),i==="cancel"&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400 text-xs sm:text-sm",children:[e.jsx(te,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:"This action cannot be undone"})]})})]}),e.jsxs("div",{className:"mt-6 flex flex-row justify-end space-x-3",children:[e.jsx("button",{type:"button",disabled:n,className:`
      inline-flex justify-center items-center gap-2
      rounded-lg px-4 py-2.5 text-sm font-medium
      border 
      bg-gray-100 text-gray-800
      hover:bg-gray-200
      dark:bg-neutral-700 dark:text-gray-200 dark:border-neutral-600 
      dark:hover:bg-neutral-600
      focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500
      transition-all duration-200
      ${u?"active:scale-98":""}
      disabled:opacity-50 disabled:cursor-not-allowed
    `,onClick:()=>l(!1),children:"Cancel"}),e.jsx("button",{type:"button",disabled:n,className:`
      inline-flex justify-center items-center gap-2
      rounded-lg px-4 py-2.5 text-sm font-semibold
      text-grey 
      bg-primary-600 hover:bg-primary-700
      dark:bg-primary-500 dark:hover:bg-primary-600
      focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500
      transition-all duration-200
      ${u?"active:scale-98":""}
      disabled:opacity-50 disabled:cursor-not-allowed
    `,onClick:m,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4"}),g.buttonText]})})]})]})})})})]})})]})}const ds=({tournament:r,user:t,onAction:a})=>e.jsxs("div",{className:"mb-4 sm:mb-6 space-y-4",children:[e.jsxs(ee,{to:"/tournaments",className:"inline-flex items-center text-sm sm:text-base text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 transition-colors group","aria-label":"Back to tournaments",children:[e.jsx(yt,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Tournaments"]}),t&&r.created_by===t.id&&e.jsx(is,{tournament:r,onAction:a})]}),Ir=$.memo(({activeTab:r,onTabChange:t})=>{const a=s.useMemo(()=>[{id:"overview",label:"Overview",icon:P,color:"text-yellow-500"},{id:"bracket",label:"Bracket",icon:K,color:"text-blue-500"},{id:"participants",label:"Players",icon:K,color:"text-purple-500"},{id:"info",label:"Details",icon:re,color:"text-green-500"}],[]);return e.jsx("div",{className:"md:hidden mb-6",children:e.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 no-scrollbar px-1",children:a.map(l=>{const i=l.icon;return e.jsxs("button",{onClick:()=>t(l.id),className:`flex flex-col items-center justify-center space-y-1 px-5 py-3 rounded-xl whitespace-nowrap transition-all duration-300 min-w-[85px] border ${r===l.id?"bg-primary-500 text-gray-900 dark:text-white border-primary-500 shadow-lg shadow-primary-500/20":"bg-white/70 dark:bg-neutral-800/70 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-neutral-700 backdrop-blur-sm hover:bg-gray-50 dark:hover:bg-neutral-700/80"}`,children:[e.jsx(i,{className:`h-5 w-5 ${r===l.id?"text-gray-900 dark:text-white":l.color}`}),e.jsx("span",{className:"text-xs font-semibold",children:l.label}),r===l.id&&e.jsx("div",{className:"absolute -bottom-1 w-6 h-1 bg-primary-400 rounded-full"})]},l.id)})})})});Ir.displayName="MobileNavTabs";const zr=$.memo(({tournament:r})=>{const t=s.useMemo(()=>[{label:"Prize Pool",value:`${r.prize_pool>0?R(r.prize_pool,"USD"):"free"}`,icon:P,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"},{label:"Players",value:`${r.current_slots||0}/${r.total_slots||0}`,icon:K,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/20"},{label:"Entry Fee",value:`${r.entry_fee>0?R(r.entry_fee||0,"USD"):"free"}`,icon:Ae,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-100 dark:bg-emerald-900/20"}],[r]);return e.jsxs("div",{className:"md:hidden mb-6 relative",children:[e.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden z-0",children:[r?.game?.logo_url&&e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 via-transparent to-transparent dark:from-neutral-900/50"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_30%,rgba(255,255,255,0.1)_50%,transparent_70%)] dark:bg-[linear-gradient(45deg,transparent_30%,rgba(0,0,0,0.1)_50%,transparent_70%)]"})]}),!r?.game?.logo_url&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 to-purple-50/30 dark:from-blue-900/10 dark:to-purple-900/10"})]}),e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map((a,l)=>{const i=a.icon;return e.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 backdrop-blur-md rounded-lg p-3 text-center border border-white/40 dark:border-neutral-700/40 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("div",{className:`p-2.5 rounded-lg ${a.bgColor} backdrop-blur-sm`,children:e.jsx(i,{className:`h-4 w-4 ${a.color}`})})}),e.jsx("p",{className:`text-lg font-bold ${a.color} drop-shadow-sm mb-1`,children:a.value}),e.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 tracking-wide",children:a.label})]},l)})})})]})});zr.displayName="MobileTournamentStats";function Ss(){const{id:r}=vt(),[t,a]=s.useState(null),[l,i]=s.useState(!0),[x,n]=s.useState(""),[d,u]=s.useState(""),[o,m]=s.useState(""),[p,h]=s.useState(!1),[g,b]=s.useState(!1),[c,y]=s.useState("overview"),{user:j,updateUser:_}=ze(),N=kt(),f=s.useCallback(async()=>{try{i(!0),n("");const w=await oe.getById(r);a(w)}catch(w){console.error("Tournament loading error:",w),n(w.response?.data?.message||"Failed to load tournament details")}finally{i(!1)}},[r]),C=s.useCallback(async()=>{try{const w=await jt.getProfile();w.success?_(w.data.user):n(w.error)}catch(w){console.error("user loading error ,continue unauthenticated :",w)}},[]);s.useEffect(()=>{C()},[C]),s.useEffect(()=>{f()},[f]),s.useEffect(()=>{if(!t||!(t.status==="ongoing"||t.status==="completed"))return;const w=wt.subscribeToMatchUpdates(T=>{T.tournament_id===t.id&&f()});return()=>w()},[t,f]);const v=async w=>{if(!w.trim()){u("Please enter your gamer tag");return}b(!0),u(""),m("");try{const T=await oe.join(r,w);if(T.chat_channel_id)try{await $t.joinChannel(T.chat_channel_id)}catch(D){D.response?.status!==409&&console.warn("Failed to join tournament channel:",D)}m("Successfully joined the tournament"),T.new_balance&&_&&_({wallet_balance:T.new_balance}),await f(),setTimeout(()=>{h(!1),m(""),N(`/tournaments/${t.id}/chat`)},2e3)}catch(T){console.error("Join tournament error:",T),u(T.response?.data?.message||"Failed to join tournament. Please try again.")}finally{b(!1)}},S=async w=>{try{let T;switch(w){case"cancel":T=await oe.cancel(r);break;case"start":T=await oe.start(r);break;case"finalize":T=await oe.finalize(r);break;default:return}m(T.message||`Tournament ${w}ed successfully`),await f()}catch(T){console.error(`Failed to ${w} tournament:`,T),n(T.response?.data?.message||`Failed to ${w} tournament. Please try again.`)}},k=s.useMemo(()=>j&&t?.participants?.some(w=>w.user_id===j.id),[j,t]),E=s.useMemo(()=>j&&t?.created_by===j.id,[j,t]);return l?e.jsx(Nt,{}):x||!t?e.jsx(_t,{error:x,tournament:t}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-900 safe-padding",children:[e.jsx(ns,{isOpen:p,onClose:()=>{h(!1),u(""),m("")},tournament:t,onJoin:v,joinError:d,joinSuccess:o,isJoining:g,setJoinError:u,setJoinSuccess:m}),e.jsxs("main",{className:"mx-auto max-w-7xl py-4 md:py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"md:hidden mb-6 relative rounded-2xl overflow-hidden border border-gray-200 dark:border-neutral-700 shadow-lg",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[t?.game?.logo_url&&e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:t.game.logo_url,alt:t.game.name,loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/80 via-white/50 to-transparent dark:from-neutral-900/70 dark:via-neutral-900/50 dark:to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 dark:from-blue-500/5 dark:via-purple-500/5 dark:to-pink-500/5"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-transparent via-transparent to-white/30 dark:to-neutral-900/30"})]}),!t?.game?.logo_url&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100/50 to-purple-100/50 dark:from-blue-900/20 dark:to-purple-900/20"}),t.is_featured&&e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl blur-xl opacity-30"})]}),e.jsxs("div",{className:"relative z-10 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-3",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-900 dark:text-white mb-2 drop-shadow-sm leading-tight",children:Lt(t.name)}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold backdrop-blur-sm border ${t.status==="completed"?"bg-green-100/90 text-green-800 dark:bg-green-900/50 dark:text-green-300 border-green-500/40":t.status==="ongoing"?"bg-blue-100/90 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 border-blue-500/40":t.status==="open"?"bg-purple-100/90 text-purple-800 dark:bg-purple-900/50 dark:text-purple-300 border-purple-500/40":"bg-gray-100/90 text-gray-800 dark:bg-gray-900/50 dark:text-gray-300 border-gray-500/40"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),t.game?.name&&e.jsxs("div",{className:"flex items-center px-2 py-1 bg-white/80 dark:bg-neutral-800/80 rounded-lg backdrop-blur-sm",children:[e.jsx(ye,{className:"h-3 w-3 text-blue-500 mr-1.5"}),e.jsx("span",{className:"text-xs font-medium text-gray-800 dark:text-gray-200",children:t.game.name})]}),t.platform?.name&&e.jsx("div",{className:"px-2 py-1 bg-white/60 dark:bg-neutral-800/60 rounded-lg backdrop-blur-sm",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:t.platform.name})})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"h-4 w-4 mr-1.5 text-yellow-500"}),e.jsx("span",{className:"font-medium",children:R(t.entry_fee*t.total_slots,"USD")})]}),e.jsx("div",{className:"h-1 w-1 rounded-full bg-gray-300 dark:bg-gray-600"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"h-4 w-4 mr-1.5 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[t.current_slots,"/",t.total_slots]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[t.chat_channel_id&&k&&e.jsx("button",{onClick:()=>N(`/tournaments/${t.id}/chat`),className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl backdrop-blur-sm hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg",title:"Open Chat",children:e.jsx(Qe,{className:"h-5 w-5 text-gray-900 dark:text-white"})}),e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"p-3 bg-white/90 dark:bg-neutral-800/90 border border-gray-200 dark:border-neutral-700 rounded-xl backdrop-blur-sm hover:bg-white dark:hover:bg-neutral-700 transition-all duration-300",children:e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-bold",children:"â‹¯"})}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white/95 dark:bg-neutral-900/95 backdrop-blur-xl rounded-xl shadow-2xl border border-gray-200/50 dark:border-neutral-700/50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 overflow-hidden",children:[e.jsxs("button",{onClick:()=>N(`/tournaments/${t.id}`),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center transition-colors",children:[e.jsx(Pa,{className:"h-4 w-4 mr-3 text-gray-500"}),"View Details"]}),e.jsxs("button",{onClick:()=>f(),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center transition-colors",children:[e.jsx(tr,{className:"h-4 w-4 mr-3 text-gray-500"}),"Refresh"]}),e.jsxs("button",{onClick:()=>window.open(`/tournaments/${t.id}/share`,"_blank"),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center transition-colors",children:[e.jsx(er,{className:"h-4 w-4 mr-3 text-gray-500"}),"Share"]}),E&&t.status==="open"&&e.jsxs("button",{onClick:()=>N(`/tournaments/${t.id}/edit`),className:"w-full text-left px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center transition-colors",children:[e.jsx(dr,{className:"h-4 w-4 mr-3 text-gray-500"}),"Edit Tournament"]})]})]})]})]}),e.jsx(zr,{tournament:t}),e.jsx("div",{className:"mt-6",children:e.jsx(Ir,{activeTab:c,onTabChange:y})}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 dark:from-blue-500/5 dark:to-purple-500/5 rounded-xl backdrop-blur-sm border border-gray-200/30 dark:border-neutral-700/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"h-4 w-4 text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:t.start_time?new Date(t.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"TBD"})]}),e.jsx("div",{className:"h-4 w-px bg-gray-300 dark:bg-gray-600"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 text-purple-500 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:["by ",t.creator?.username||"Unknown"]})]})]}),e.jsx(rr,{className:"h-4 w-4 text-gray-400"})]})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 opacity-40 rounded-b-2xl"})]}),o&&e.jsx(ue,{type:"success",title:"Success",message:o,onClose:()=>m(""),icon:e.jsx(P,{className:"h-5 w-5"}),className:"mb-6 md:mb-8"}),e.jsxs("div",{className:"hidden md:block",children:[e.jsx(Ha,{tournament:t}),e.jsx(Wa,{tournament:t})]}),e.jsxs("div",{className:"md:hidden space-y-8 pt-4",children:[c==="overview"&&e.jsxs(e.Fragment,{children:[e.jsx(or,{tournament:t}),e.jsx(xr,{tournament:t,user:j,onJoinClick:()=>h(!0)}),e.jsx(hr,{tournament:t})]}),c==="bracket"&&e.jsx(br,{tournament:t}),c==="participants"&&e.jsx(cr,{tournament:t}),c==="info"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 rounded-2xl p-6 border border-gray-200 dark:border-neutral-700 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-3",children:e.jsx(P,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Rules"})]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 bg-gray-50/50 dark:bg-neutral-700/30 rounded-xl p-4",children:t.rules||"No specific rules provided for this tournament. Please check with the tournament organizer for detailed rules and guidelines."})]}),e.jsxs("div",{className:"bg-white/90 dark:bg-neutral-800/90 rounded-2xl p-6 border border-gray-200 dark:border-neutral-700 backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg mr-3",children:e.jsx(Ee,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-900 dark:text-white",children:"Tournament Details"})]}),e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50/50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:new Date(t.created_at).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50/50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Starts"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:t.start_time?new Date(t.start_time).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"TBD"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50/50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visibility"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white capitalize",children:t.visibility})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50/50 dark:bg-neutral-700/30 rounded-lg",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Format"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-900 dark:text-white",children:t.format?.replace("_"," ")||"Single Elimination"})]})]})]})]}),e.jsx(ds,{tournament:t,user:j,onAction:S})]}),e.jsxs("div",{className:"hidden md:grid md:grid-cols-12 gap-8 mt-8",children:[e.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[e.jsx(or,{tournament:t}),e.jsx(cr,{tournament:t})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsx(br,{tournament:t})}),e.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[e.jsx(xr,{tournament:t,user:j,onJoinClick:()=>h(!0)}),e.jsx(hr,{tournament:t})]})]}),t.status==="open"&&j&&R(j.wallet_balance||0,"USD")<t.entry_fee&&e.jsx("div",{className:"mt-8",children:e.jsx(ue,{type:"warning",title:"Insufficient Balance",message:`You need $${t.entry_fee} to join this tournament. Your current balance is ${R(j.wallet_balance||0,"USD")}`,action:{text:"Add Funds",to:"/deposit"},icon:e.jsx($r,{className:"h-5 w-5"}),className:"shadow-lg"})}),t.status==="open"&&j&&!k&&e.jsx("div",{className:"md:hidden fixed bottom-8 right-8 z-30",children:e.jsxs("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-gray-900 dark:text-white p-5 rounded-2xl shadow-2xl transition-all duration-300 active:scale-95 flex items-center space-x-2",children:[e.jsx(P,{className:"h-6 w-6"}),e.jsx("span",{className:"text-lg font-bold",children:"Join Now"})]})}),e.jsxs("div",{className:"hidden md:flex items-center justify-between mt-12 pt-8 border-t border-gray-200 dark:border-neutral-700",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[t.chat_channel_id&&k&&e.jsxs("button",{onClick:()=>N(`/tournaments/${t.id}/chat`),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-gray-900 dark:text-white font-medium rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx(Qe,{className:"h-5 w-5 mr-3"}),"Tournament Chat",e.jsx(rr,{className:"h-5 w-5 ml-2"})]}),E&&t.status==="open"&&e.jsxs("button",{onClick:()=>N(`/tournaments/${t.id}/edit`),className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 dark:border-neutral-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-neutral-800 rounded-xl transition-all duration-300 font-medium",children:[e.jsx(dr,{className:"h-5 w-5 mr-3"}),"Edit Tournament"]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("button",{onClick:f,disabled:l,className:"inline-flex items-center px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300 transition-colors disabled:opacity-50",children:[e.jsx(tr,{className:`h-5 w-5 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),e.jsxs("a",{href:`/tournaments/${t.id}`,className:"inline-flex items-center px-4 py-2 text-primary-600 dark:text-primary-500 hover:text-primary-700 dark:hover:text-primary-400 transition-colors font-medium",children:[e.jsx(er,{className:"h-5 w-5 mr-2"}),"Share Tournament"]})]})]}),e.jsx("div",{className:"h-20 md:h-0"})]})]})}export{Ss as default};
